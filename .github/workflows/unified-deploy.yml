name: ðŸš€ í†µí•© ë°°í¬ íŒŒì´í”„ë¼ì¸ | Dynamic Version & Multi-Image

on:
  push:
    branches: [main]
    paths-ignore:
      - '**.md'
      - 'docs/**'
      - '.github/workflows/deploy-pages.yml'
  pull_request:
    branches: [main]
    types: [opened, synchronize, reopened]
  workflow_dispatch:
    inputs:
      force_deploy:
        description: 'Force deploy all services'
        required: false
        default: false
        type: boolean
      target_images:
        description: 'Target images to build (all, blacklist, postgres, redis)'
        required: false
        default: 'all'
        type: choice
        options:
        - all
        - blacklist
        - postgres
        - redis

env:
  REGISTRY: registry.jclee.me
  BASE_NAME: blacklist

jobs:
  # ========================================
  # ë™ì  ë²„ì „ ìƒì„± ë° ë³€ê²½ ê°ì§€
  # ========================================
  prepare:
    name: "ðŸ” ë²„ì „ ìƒì„± & ë³€ê²½ ê°ì§€"
    runs-on: ubuntu-latest
    outputs:
      should_deploy: ${{ steps.changes.outputs.should_deploy }}
      version: ${{ steps.version.outputs.version }}
      git_hash: ${{ steps.version.outputs.git_hash }}
      git_count: ${{ steps.version.outputs.git_count }}
      build_date: ${{ steps.version.outputs.build_date }}
      build_blacklist: ${{ steps.changes.outputs.build_blacklist }}
      build_postgres: ${{ steps.changes.outputs.build_postgres }}
      build_redis: ${{ steps.changes.outputs.build_redis }}
    
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0
        
    - name: "ðŸ” ìŠ¤ë§ˆíŠ¸ ë³€ê²½ ê°ì§€"
      id: changes
      run: |
        echo "ðŸ” ë³€ê²½ì‚¬í•­ ë¶„ì„ ì¤‘..."
        
        SHOULD_DEPLOY=false
        BUILD_BLACKLIST=false
        BUILD_POSTGRES=false 
        BUILD_REDIS=false
        FORCE_DEPLOY="${{ inputs.force_deploy }}"
        TARGET_IMAGES="${{ inputs.target_images }}"
        
        # ê°•ì œ ë°°í¬ ì²˜ë¦¬
        if [ "${{ github.event_name }}" = "workflow_dispatch" ] && [ "$FORCE_DEPLOY" = "true" ]; then
          echo "ðŸ”¨ ê°•ì œ ë°°í¬ ìš”ì²­"
          SHOULD_DEPLOY=true
          if [ "$TARGET_IMAGES" = "all" ] || [ "$TARGET_IMAGES" = "blacklist" ]; then
            BUILD_BLACKLIST=true
          fi
          if [ "$TARGET_IMAGES" = "all" ] || [ "$TARGET_IMAGES" = "postgres" ]; then
            BUILD_POSTGRES=true
          fi
          if [ "$TARGET_IMAGES" = "all" ] || [ "$TARGET_IMAGES" = "redis" ]; then
            BUILD_REDIS=true
          fi
        else
          # íŒŒì¼ ë³€ê²½ ê°ì§€
          CHANGED_FILES=$(git diff --name-only HEAD~1 HEAD 2>/dev/null || echo "")
          
          # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë³€ê²½
          if echo "$CHANGED_FILES" | grep -qE "\.(py|txt|json)$|^Dockerfile|^main\.py|^src/|^app/|^templates/|^static/"; then
            echo "âœ… ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë³€ê²½ ê°ì§€"
            BUILD_BLACKLIST=true
            SHOULD_DEPLOY=true
          fi
          
          # PostgreSQL ë³€ê²½
          if echo "$CHANGED_FILES" | grep -qE "^docker/postgresql/|postgresql"; then
            echo "âœ… PostgreSQL ì„¤ì • ë³€ê²½ ê°ì§€"
            BUILD_POSTGRES=true
            SHOULD_DEPLOY=true
          fi
          
          # Redis ë³€ê²½
          if echo "$CHANGED_FILES" | grep -qE "^docker/redis/|redis"; then
            echo "âœ… Redis ì„¤ì • ë³€ê²½ ê°ì§€"
            BUILD_REDIS=true
            SHOULD_DEPLOY=true
          fi
          
          # CI/CD íŒŒì¼ ë³€ê²½
          if echo "$CHANGED_FILES" | grep -qE "\.yml$|\.yaml$"; then
            echo "âœ… CI/CD ì„¤ì • ë³€ê²½ ê°ì§€"
            BUILD_BLACKLIST=true
            SHOULD_DEPLOY=true
          fi
        fi
        
        echo "should_deploy=$SHOULD_DEPLOY" >> $GITHUB_OUTPUT
        echo "build_blacklist=$BUILD_BLACKLIST" >> $GITHUB_OUTPUT
        echo "build_postgres=$BUILD_POSTGRES" >> $GITHUB_OUTPUT
        echo "build_redis=$BUILD_REDIS" >> $GITHUB_OUTPUT
        
        echo "ðŸ“Š ê²°ê³¼ - ë°°í¬: $SHOULD_DEPLOY | Blacklist: $BUILD_BLACKLIST | PostgreSQL: $BUILD_POSTGRES | Redis: $BUILD_REDIS"

    - name: "ðŸ“¦ ë™ì  ë²„ì „ ìƒì„±"  
      id: version
      run: |
        echo "ðŸ“¦ ë™ì  ë²„ì „ ìƒì„± ì¤‘..."
        
        # Git ì •ë³´
        GIT_COUNT=$(git rev-list --count HEAD)
        GIT_HASH=$(git rev-parse --short HEAD)
        GIT_BRANCH=$(git rev-parse --abbrev-ref HEAD)
        BUILD_DATE=$(date +%Y%m%d)
        
        # ì˜ë¯¸ë¡ ì  ë²„ì „: Major.Minor.Patch.Build
        SEMANTIC_VERSION="1.3.${GIT_COUNT}.${GIT_HASH}"
        
        echo "version=$SEMANTIC_VERSION" >> $GITHUB_OUTPUT
        echo "git_hash=$GIT_HASH" >> $GITHUB_OUTPUT  
        echo "git_count=$GIT_COUNT" >> $GITHUB_OUTPUT
        echo "build_date=$BUILD_DATE" >> $GITHUB_OUTPUT
        
        echo "ðŸ“¦ ë™ì  ë²„ì „: $SEMANTIC_VERSION"
        echo "ðŸ—ï¸ ë¹Œë“œ ë‚ ì§œ: $BUILD_DATE"
        echo "ðŸ“Š ì´ ì»¤ë°‹: $GIT_COUNT"

  # ========================================
  # Blacklist ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¯¸ì§€ ë¹Œë“œ
  # ========================================
  build-blacklist:
    name: "ðŸ›¡ï¸ Blacklist ì´ë¯¸ì§€ ë¹Œë“œ"
    needs: prepare
    if: needs.prepare.outputs.build_blacklist == 'true'
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: "ðŸ³ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¡œê·¸ì¸"
      run: |
        echo "${{ secrets.REGISTRY_PASSWORD || 'bingogo1' }}" | docker login ${{ env.REGISTRY }} -u admin --password-stdin
    
    - name: "ðŸ—ï¸ Blacklist ì´ë¯¸ì§€ ë¹Œë“œ & í‘¸ì‹œ"
      run: |
        VERSION="${{ needs.prepare.outputs.version }}"
        BUILD_DATE="${{ needs.prepare.outputs.build_date }}"
        GIT_COUNT="${{ needs.prepare.outputs.git_count }}"
        GIT_HASH="${{ needs.prepare.outputs.git_hash }}"
        
        echo "ðŸ›¡ï¸ Blacklist ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ..."
        echo "ðŸ“¦ ë²„ì „: $VERSION"
        
        docker build \
          -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}:latest \
          -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}:$VERSION \
          -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}:v$BUILD_DATE \
          --build-arg DYNAMIC_VERSION=$VERSION \
          --build-arg BUILD_DATE=$BUILD_DATE \
          --build-arg BUILD_NUMBER=${{ github.run_number }} \
          --build-arg COMMIT_SHA=${{ github.sha }} \
          --build-arg COMMIT_COUNT=$GIT_COUNT \
          --build-arg GIT_HASH=$GIT_HASH \
          --build-arg GITHUB_ACTIONS=true \
          --build-arg FLASK_ENV=production \
          --label "org.opencontainers.image.version=$VERSION" \
          --label "org.opencontainers.image.revision=${{ github.sha }}" \
          --label "org.opencontainers.image.created=$(date -u +'%Y-%m-%dT%H:%M:%SZ')" \
          --label "org.opencontainers.image.source=${{ github.repositoryUrl }}" \
          .
        
        echo "ðŸ“¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‘¸ì‹œ..."
        docker push ${{ env.REGISTRY }}/${{ env.BASE_NAME }}:latest
        docker push ${{ env.REGISTRY }}/${{ env.BASE_NAME }}:$VERSION
        docker push ${{ env.REGISTRY }}/${{ env.BASE_NAME }}:v$BUILD_DATE
        
        echo "âœ… Blacklist ë¹Œë“œ ì™„ë£Œ: $VERSION"

  # ========================================
  # PostgreSQL ì´ë¯¸ì§€ ë¹Œë“œ
  # ========================================
  build-postgres:
    name: "ðŸ˜ PostgreSQL ì´ë¯¸ì§€ ë¹Œë“œ"
    needs: prepare
    if: needs.prepare.outputs.build_postgres == 'true'
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: "ðŸ³ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¡œê·¸ì¸"
      run: |
        echo "${{ secrets.REGISTRY_PASSWORD || 'bingogo1' }}" | docker login ${{ env.REGISTRY }} -u admin --password-stdin
    
    - name: "ðŸ—ï¸ PostgreSQL ì´ë¯¸ì§€ ë¹Œë“œ & í‘¸ì‹œ"
      run: |
        VERSION="${{ needs.prepare.outputs.version }}"
        BUILD_DATE="${{ needs.prepare.outputs.build_date }}"
        
        echo "ðŸ˜ PostgreSQL ì´ë¯¸ì§€ ë¹Œë“œ..."
        echo "ðŸ“¦ ë²„ì „: $VERSION"
        
        if [ ! -d "docker/postgresql" ]; then
          echo "âš ï¸ PostgreSQL ë””ë ‰í† ë¦¬ ì—†ìŒ, ê¸°ë³¸ PostgreSQL ì´ë¯¸ì§€ë¡œ íƒœê·¸"
          docker pull postgres:15-alpine
          docker tag postgres:15-alpine ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-postgres:latest
          docker tag postgres:15-alpine ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-postgres:$VERSION
        else
          docker build \
            -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-postgres:latest \
            -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-postgres:$VERSION \
            -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-postgres:v$BUILD_DATE \
            --label "org.opencontainers.image.version=$VERSION" \
            --label "org.opencontainers.image.revision=${{ github.sha }}" \
            --label "org.opencontainers.image.created=$(date -u +'%Y-%m-%dT%H:%M:%SZ')" \
            ./docker/postgresql
        fi
        
        echo "ðŸ“¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‘¸ì‹œ..."
        docker push ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-postgres:latest
        docker push ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-postgres:$VERSION
        
        echo "âœ… PostgreSQL ë¹Œë“œ ì™„ë£Œ: $VERSION"

  # ========================================
  # Redis ì´ë¯¸ì§€ ë¹Œë“œ
  # ========================================
  build-redis:
    name: "âš¡ Redis ì´ë¯¸ì§€ ë¹Œë“œ"
    needs: prepare
    if: needs.prepare.outputs.build_redis == 'true'
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: "ðŸ³ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¡œê·¸ì¸"
      run: |
        echo "${{ secrets.REGISTRY_PASSWORD || 'bingogo1' }}" | docker login ${{ env.REGISTRY }} -u admin --password-stdin
    
    - name: "ðŸ—ï¸ Redis ì´ë¯¸ì§€ ë¹Œë“œ & í‘¸ì‹œ"
      run: |
        VERSION="${{ needs.prepare.outputs.version }}"
        BUILD_DATE="${{ needs.prepare.outputs.build_date }}"
        
        echo "âš¡ Redis ì´ë¯¸ì§€ ë¹Œë“œ..."
        echo "ðŸ“¦ ë²„ì „: $VERSION"
        
        if [ ! -d "docker/redis" ]; then
          echo "âš ï¸ Redis ë””ë ‰í† ë¦¬ ì—†ìŒ, ê¸°ë³¸ Redis ì´ë¯¸ì§€ë¡œ íƒœê·¸"
          docker pull redis:7-alpine
          docker tag redis:7-alpine ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-redis:latest
          docker tag redis:7-alpine ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-redis:$VERSION
        else
          docker build \
            -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-redis:latest \
            -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-redis:$VERSION \
            -t ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-redis:v$BUILD_DATE \
            --label "org.opencontainers.image.version=$VERSION" \
            --label "org.opencontainers.image.revision=${{ github.sha }}" \
            --label "org.opencontainers.image.created=$(date -u +'%Y-%m-%dT%H:%M:%SZ')" \
            ./docker/redis
        fi
        
        echo "ðŸ“¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‘¸ì‹œ..."
        docker push ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-redis:latest
        docker push ${{ env.REGISTRY }}/${{ env.BASE_NAME }}-redis:$VERSION
        
        echo "âœ… Redis ë¹Œë“œ ì™„ë£Œ: $VERSION"

  # ========================================
  # í”„ë¡œë•ì…˜ ë°°í¬
  # ========================================
  deploy:
    name: "ðŸš€ í”„ë¡œë•ì…˜ ë°°í¬"
    needs: [prepare, build-blacklist]
    if: needs.prepare.outputs.should_deploy == 'true'
    runs-on: self-hosted
    
    steps:
    - name: "ðŸ”„ Docker Compose ë°°í¬"
      run: |
        echo "ðŸš€ í”„ë¡œë•ì…˜ ë°°í¬ ì‹œìž‘..."
        NEW_VERSION="${{ needs.prepare.outputs.version }}"
        
        # ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¡œê·¸ì¸
        echo "${{ secrets.REGISTRY_PASSWORD || 'bingogo1' }}" | docker login ${{ env.REGISTRY }} -u admin --password-stdin
        
        # Docker Composeë¡œ ì „ì²´ ìŠ¤íƒ ì—…ë°ì´íŠ¸
        cd /home/app/blacklist || exit 1
        
        # ìµœì‹  ì´ë¯¸ì§€ í’€
        docker-compose pull
        
        # ì„œë¹„ìŠ¤ ìž¬ì‹œìž‘
        docker-compose up -d --remove-orphans
        
        echo "âœ… Docker Compose ë°°í¬ ì™„ë£Œ: $NEW_VERSION"

    - name: "ðŸ¥ í—¬ìŠ¤ì²´í¬ & ê²€ì¦"
      run: |
        echo "ðŸ¥ ì‹œìŠ¤í…œ ìƒíƒœ ê²€ì¦..."
        
        # ì„œë¹„ìŠ¤ ì‹œìž‘ ëŒ€ê¸°
        sleep 30
        
        # 1. ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
        if ! docker ps --format "{{.Names}}" | grep -q "blacklist-app"; then
          echo "âŒ Blacklist ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì‹¤íŒ¨"
          docker-compose logs blacklist
          exit 1
        fi
        
        # 2. ë‚´ë¶€ í—¬ìŠ¤ì²´í¬
        for i in {1..10}; do
          echo "ðŸ” í—¬ìŠ¤ì²´í¬ ì‹œë„ $i/10..."
          if curl -f http://localhost:32542/health >/dev/null 2>&1; then
            echo "âœ… ë‚´ë¶€ í—¬ìŠ¤ì²´í¬ í†µê³¼"
            break
          elif [ $i -eq 10 ]; then
            echo "âŒ ë‚´ë¶€ í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨"
            docker-compose logs blacklist --tail 20
            exit 1
          fi
          sleep 10
        done
        
        # 3. ê° ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
        echo "ðŸ“Š ì„œë¹„ìŠ¤ ìƒíƒœ:"
        docker-compose ps
        
        # 4. API í…ŒìŠ¤íŠ¸
        echo "ðŸ§ª API ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸..."
        API_STATUS=$(curl -s http://localhost:32542/api/blacklist/active | head -1)
        echo "API ì‘ë‹µ ìƒ˜í”Œ: $API_STATUS"
        
        # 5. ë²„ì „ í™•ì¸
        DEPLOYED_VERSION=$(curl -s http://localhost:32542/health | jq -r '.version' 2>/dev/null || echo "unknown")
        echo "ðŸ“¦ ë°°í¬ëœ ë²„ì „: $DEPLOYED_VERSION"
        
        echo "ðŸŽ‰ ë°°í¬ ë° ê²€ì¦ ì™„ë£Œ!"

  # ========================================
  # ë°°í¬ ìš”ì•½ ë¦¬í¬íŠ¸
  # ========================================  
  summary:
    name: "ðŸ“Š ë°°í¬ ìš”ì•½"
    needs: [prepare, build-blacklist, build-postgres, build-redis, deploy]
    if: always()
    runs-on: ubuntu-latest
    
    steps:
    - name: "ðŸ“Š ê²°ê³¼ ìš”ì•½"
      run: |
        echo "# ðŸ›¡ï¸ í†µí•© ë°°í¬ íŒŒì´í”„ë¼ì¸ ë¦¬í¬íŠ¸" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        echo "## ðŸ“¦ ë²„ì „ ì •ë³´" >> $GITHUB_STEP_SUMMARY
        echo "- **ë™ì  ë²„ì „:** ${{ needs.prepare.outputs.version || 'N/A' }}" >> $GITHUB_STEP_SUMMARY
        echo "- **ë¹Œë“œ ë‚ ì§œ:** ${{ needs.prepare.outputs.build_date || 'N/A' }}" >> $GITHUB_STEP_SUMMARY  
        echo "- **Git í•´ì‹œ:** ${{ needs.prepare.outputs.git_hash || 'N/A' }}" >> $GITHUB_STEP_SUMMARY
        echo "- **ì´ ì»¤ë°‹:** ${{ needs.prepare.outputs.git_count || 'N/A' }}" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        echo "## ðŸ—ï¸ ì´ë¯¸ì§€ ë¹Œë“œ ìƒíƒœ" >> $GITHUB_STEP_SUMMARY
        echo "| ì´ë¯¸ì§€ | ë¹Œë“œ ì—¬ë¶€ | ìƒíƒœ |" >> $GITHUB_STEP_SUMMARY
        echo "|--------|-----------|------|" >> $GITHUB_STEP_SUMMARY
        
        # Blacklist ë¹Œë“œ ìƒíƒœ
        if [ "${{ needs.prepare.outputs.build_blacklist }}" = "true" ]; then
          if [ "${{ needs.build-blacklist.result }}" = "success" ]; then
            echo "| ðŸ›¡ï¸ Blacklist | âœ… | ë¹Œë“œ ì„±ê³µ |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| ðŸ›¡ï¸ Blacklist | âŒ | ë¹Œë“œ ì‹¤íŒ¨ |" >> $GITHUB_STEP_SUMMARY
          fi
        else
          echo "| ðŸ›¡ï¸ Blacklist | â­ï¸ | ìŠ¤í‚µë¨ |" >> $GITHUB_STEP_SUMMARY
        fi
        
        # PostgreSQL ë¹Œë“œ ìƒíƒœ
        if [ "${{ needs.prepare.outputs.build_postgres }}" = "true" ]; then
          if [ "${{ needs.build-postgres.result }}" = "success" ]; then
            echo "| ðŸ˜ PostgreSQL | âœ… | ë¹Œë“œ ì„±ê³µ |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| ðŸ˜ PostgreSQL | âŒ | ë¹Œë“œ ì‹¤íŒ¨ |" >> $GITHUB_STEP_SUMMARY
          fi
        else
          echo "| ðŸ˜ PostgreSQL | â­ï¸ | ìŠ¤í‚µë¨ |" >> $GITHUB_STEP_SUMMARY
        fi
        
        # Redis ë¹Œë“œ ìƒíƒœ
        if [ "${{ needs.prepare.outputs.build_redis }}" = "true" ]; then
          if [ "${{ needs.build-redis.result }}" = "success" ]; then
            echo "| âš¡ Redis | âœ… | ë¹Œë“œ ì„±ê³µ |" >> $GITHUB_STEP_SUMMARY
          else
            echo "| âš¡ Redis | âŒ | ë¹Œë“œ ì‹¤íŒ¨ |" >> $GITHUB_STEP_SUMMARY
          fi
        else
          echo "| âš¡ Redis | â­ï¸ | ìŠ¤í‚µë¨ |" >> $GITHUB_STEP_SUMMARY
        fi
        
        echo "" >> $GITHUB_STEP_SUMMARY
        
        echo "## ðŸš€ ë°°í¬ ìƒíƒœ" >> $GITHUB_STEP_SUMMARY
        if [ "${{ needs.deploy.result }}" = "success" ]; then
          echo "âœ… **ë°°í¬ ì„±ê³µ** - ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤." >> $GITHUB_STEP_SUMMARY
        elif [ "${{ needs.prepare.outputs.should_deploy }}" = "true" ]; then
          echo "âŒ **ë°°í¬ ì‹¤íŒ¨** - ë°°í¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤." >> $GITHUB_STEP_SUMMARY
        else
          echo "â­ï¸ **ë°°í¬ ìŠ¤í‚µ** - ë³€ê²½ì‚¬í•­ì´ ì—†ì–´ ë°°í¬ë¥¼ ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤." >> $GITHUB_STEP_SUMMARY
        fi
        
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "## ðŸŒ ì‹œìŠ¤í…œ ì ‘ì†" >> $GITHUB_STEP_SUMMARY
        echo "- **ðŸŒ ë¼ì´ë¸Œ ì‹œìŠ¤í…œ:** https://blacklist.jclee.me/" >> $GITHUB_STEP_SUMMARY
        echo "- **ðŸ“Š ëŒ€ì‹œë³´ë“œ:** https://blacklist.jclee.me/dashboard" >> $GITHUB_STEP_SUMMARY
        echo "- **ðŸ’š í—¬ìŠ¤ì²´í¬:** https://blacklist.jclee.me/health" >> $GITHUB_STEP_SUMMARY
        echo "- **ðŸ›¡ï¸ ì„¤ì • ê´€ë¦¬:** https://blacklist.jclee.me/settings" >> $GITHUB_STEP_SUMMARY