apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  annotations:
    config.kubernetes.io/local-config: "true"
  name: blacklist-base

resources:
- namespace.yaml
- serviceaccount.yaml
- deployment.yaml
- service.yaml
- ingress.yaml
- configmap.yaml
- secret.yaml
- redis-deployment.yaml
- redis-service.yaml
- persistentvolumeclaim.yaml
- monitoring.yaml


namespace: blacklist-system

images:
- name: blacklist
  newName: registry.jclee.me/jclee94/blacklist
  newTag: 1.0.17

# ConfigMaps and Secrets are managed via YAML files

replicas:
- count: 2
  name: blacklist-deployment
labels:
- includeSelectors: true
  pairs:
    app: blacklist
    version: 1.0.17
