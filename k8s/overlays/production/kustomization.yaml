apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  annotations:
    config.kubernetes.io/local-config: "true"
  name: blacklist-production

namespace: blacklist-system

resources:
- ../../base
- horizontal-pod-autoscaler.yaml
- network-policy.yaml
- pod-disruption-budget.yaml


replicas:
- count: 3
  name: blacklist-deployment

images:
- name: blacklist
  newName: registry.jclee.me/jclee94/blacklist
  newTag: 1.0.17


commonAnnotations:
  deployment.kubernetes.io/revision: "1"
labels:
- includeSelectors: true
  pairs:
    environment: production
    version: 1.0.17
patches:
- path: deployment-patch.yaml
- path: ingress-patch.yaml
