







<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>금융보안 레그테크 포털</title>

<script src="/js/jquery-1.12.4.min.js"></script>
<script src="/js/jquery-ui.min.js"></script>

<!-- <script src="/js/jquery.fullpage.extensions.min.js"></script> -->
<script src="/js/jquery.fullPage.js"></script>
<script src="/js/slick.min.js?v=20231016"></script>
<script src="/js/scroll.min.js"></script>
<script src="/js/common.js?v=20231016"></script>
<script src="/js/dqCommon.js"></script>
<script src="/js/lightslider.js"></script>

<!--[if lt IE 9]><script src="../../js/html5shiv.min.js"></script><![endif]-->
<link rel="stylesheet" href="/css/common.css?v=20231016">
<link rel="stylesheet" href="/css/lightslider.css?v=20231016">
<link rel="stylesheet" type="text/css" href="/js/themes/default/style.css" />
<link rel="stylesheet" type="text/css" href="/css/select2.css" />

<!-- URL -->
<script type="text/javascript" src="/js/jquery-url-min.js"></script>

<!-- 페이징 -->
<script type="text/javascript" src="/js/jquery.twbsPagination.min.js"></script>

<!-- 스마트 에디터 -->
<script type="text/javascript" src="/js/smartEditor/HuskyEZCreator.js?v=20231016"></script>

<!-- 파일 업로드 -->
<script type="text/javascript" src="/js/dropzone.js?v=20231016"></script>

<!-- 트리 -->
<script type="text/javascript" src="/js/jstree.min.js"></script>

<!-- 유효성 검사 -->
<script type="text/javascript" src="/js/jquery.validate_custom.js"></script>
<script type="text/javascript" src="/js/jquery.validate_additional-methods.min.js"></script>

<!-- js render -->
<script type="text/javascript" src="/js/jsrender.js"></script>

<!-- high chart -->
<script type="text/javascript" src="/js/highstock5.0.2/common.js"></script>
<script type="text/javascript" src="/js/highstock5.0.2/core/highstock.js"></script>
<script type="text/javascript" src="/js/highstock5.0.2/modules/data.js"></script>
<script type="text/javascript" src="/js/highstock5.0.2/modules/exporting.js"></script>
<script type="text/javascript" src="/js/highstock5.0.2/modules/no-data-to-display.js"></script>

<script type="text/javascript" src="/js/moment.min.js"></script>

<script type="text/javascript" src="/js/select2.min.js"></script>

<!-- chat -->
<script type="text/javascript" src="/js/websocket/sockjs.min.js"></script>
<script type="text/javascript" src="/js/websocket/stomp.min.js"></script>
<script type="text/javascript" src="/js/collections.min.js"></script>

<!-- Google tag (gtag.js) 2025-유지보수-08-->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7WRDYHF66J"></script> 
<script> 
window.dataLayer = window.dataLayer || []; 
function gtag(){dataLayer.push(arguments);} 
gtag('js', new Date()); 
gtag('config', 'G-7WRDYHF66J'); 
</script>
<link rel="stylesheet" href="/css/sub.css"> <!-- sub css -->
</head>

<body>
	<!-- skip navigation -->
	<div id="skip">
		<a href="#gnb">주메뉴 바로가기</a>
		<a href="#contents">본문 바로가기</a>
	</div>
	
	<!-- //skip navigation -->
	<!-- wrapper -->
	<div class="wrapper">
		<!-- header -->
		<header>
			




<div class="top_wrapper">
	<h1 class="logo">
	<a href="javascript:topMenuMove('/main/main');"><img src="/images/logo.gif" alt="금융보안원·금융 IT 보안 RegTech 포털"></a></h1> 
	<ul class="top_menu">
		<li><a class="link_notice" href="/board/11/boardList"><span class="txt">공지사항</span></a></li>
		
			
			<!-- <set var="loginFlag" value="N"/> -->
			<li><a class="link_login" href="/login/loginForm"><span class="txt">로그인</span></a></li>
			<li><a class="link_find" href="/member/idSearch"><span class="txt">아이디/비밀번호 찾기</span></a></li>
			<li><a class="link_join" href="/member/intro"><span class="txt">회원가입</span></a></li>
		
		
		<li><a class="link_sitemap" href="/member/siteMapView"><span class="txt">사이트 맵</span></a></li>
	</ul>
</div>
<div class="gnb_wrapper">
	<nav id="gnb">
	</nav>
</div>
<div class="top_search">
	<button class="btn_search" id="btn_search" type="button">검색</button>
	<div class="input_box">
		<!-- 검색 시작 -->
		<form id="searchForm_h" name="searchForm_h" action="/search/searchView" method="get" onsubmit="return validateForm_h()">
			<fieldset>
				<legend>검색어 입력</legend>
				<div class="input_area">
					<input type="hidden" name="idx" value="0">
					<input type="hidden" name="page" value="0">
					<input type="hidden" id="hrekeyword" name="rekeyword" value="">
					
					<label for="hkeyword" class="sr-only">통합검색</label>
					<input type="text" id="hkeyword" name="keyword" placeholder="검색어를 입력하세요.">
					<button class="btn_preview" type="submit">검색</button>
				</div>
				<dl class="keyword_area">
					<dt>인기검색어</dt>
					<dd>
					</dd>
				</dl>
			</fieldset>
		</form>
		<!-- 검색 끝 -->
	</div>
</div>
<form id="menuForm" name="menuForm">
<input type="hidden" id="url" name="url" value="">
</form>
<!-- <div class="gnb_bg"></div> -->
<script type="text/javascript">
$(function(){
	$("#hkeyword").keyup(function(){
		if($(this).val().length > 500){
			alert("최대 500자까지 입력 가능합니다.");
	        $(this).val($(this).val().substring(0, 500));
		}
	});
	
	var menuUrl = "";
	if($.url('path').split('/').length -1 == 1){
		menuUrl = '/';
	}
	if($.url('path').split('/').length -1 == 2){
		menuUrl = '/'+$.url('1');
	}
	if($.url('path').split('/').length -1 == 3){
		menuUrl = '/'+$.url('1')+'/'+$.url('2');
	}
	if($.url('path').split('/').length -1 == 4){
		menuUrl = '/'+$.url('1')+'/'+$.url('2')+'/'+$.url('3');
	}
	if($.url('path').split('/').length -1 == 5){
		menuUrl = '/'+$.url('1')+'/'+$.url('2')+'/'+$.url('3')+'/'+$.url('4');
	}

	var level1Cnt = 0;
	var level2Cnt = 0;
	$.ajax({
		async: false,
		type:'get',
		url:"/common/menu/menuConnectByListJson",
		dataType : "json",
		success:function(data){
			var menuStr = "";
			
			
			menuStr +="<ul class=\"depth1\">";
			
			var level1SizeCnt = 0;
			for(var i = 0; i < data.length; i++){
				// 노드 태그 열기
				// 1레벨
				if(data[i].menuLevel == 1){
					// 1레벨 하위 노드가 없을 경우
					if(data[i].menuCnt == 0){
						if(level1SizeCnt == 1){
							menuStr += "<li style=\"width:225px\"><a href=\""+data[i].menuUrl+"\">"+data[i].menuName+"</a>";
						}else{
							menuStr += "<li><a href=\"javascript:topMenuMoveByMenuNo('"+data[i].menuUrl+"', " + data[i].menuNo + ");\">"+data[i].menuName+"</a>";
						}
					}
					// 1레벨 하위 노드가 있을 경우
					if(data[i].menuCnt > 0){
						if(level1SizeCnt == 1){
							level1Cnt = data[i].menuCnt;
							menuStr += "<li style=\"width:225px\"><a href=\"javascript:topMenuMoveByMenuNo('"+data[i].menuUrl+"', " + data[i].menuNo + ");\">"+data[i].menuName+"</a>";
							menuStr += "<ul class=\"depth2\">";
						}else{
							level1Cnt = data[i].menuCnt;
							menuStr += "<li><a href=\"javascript:topMenuMoveByMenuNo('"+data[i].menuUrl+"', " + data[i].menuNo + ");\">"+data[i].menuName+"</a>";
							menuStr += "<ul class=\"depth2\">";
						}
					}
					level1SizeCnt++;
				}
				// 2레벨
				if(data[i].menuLevel == 2){
					level1Cnt = level1Cnt - 1;
					// 2레벨 하위 노드가 없을 경우
					if(data[i].menuCnt == 0){
						menuStr += "<li><a href=\"javascript:topMenuMoveByMenuNo('"+data[i].menuUrl+"', " + data[i].menuNo + ");\">"+data[i].menuName+"</a>";
					}
					// 2레벨 하위 노드가 있을 경우
					if(data[i].menuCnt > 0){
						level2Cnt = data[i].menuCnt;
						menuStr += "<li class=\"in\"><a href=\"javascript:topMenuMoveByMenuNo('"+data[i].menuUrl+"', " + data[i].menuNo + ");\">"+data[i].menuName+"</a>";
						menuStr += "    <ul class=\"depth3\">";
					}
				}
				// 3레벨
				if(data[i].menuLevel == 3){
					level2Cnt = level2Cnt - 1;
					menuStr += "<li><a href=\"javascript:topMenuMoveByMenuNo('"+data[i].menuUrl+"', " + data[i].menuNo + ");\">"+data[i].menuName+"</a>";
				}
				// 노드 태그 닫기
				// 1레벨 노드 닫기
				if(data[i].menuLevel == 1){
					if(level1Cnt == 0 && level2Cnt == 0){
						menuStr += "</li>";
					}
				}
				// 2레벨 노드 닫기
				if(data[i].menuLevel == 2){
					if(data[i].menuCnt == 0){
						menuStr += "</li>";
					}
					if(level1Cnt == 0 && level2Cnt == 0){
						menuStr += "</ul>";
						menuStr += "</li>";
					}
				}
				// 3레벨 노드 닫기
				if(data[i].menuLevel == 3){
					menuStr += "</li>";
					if(level2Cnt == 0){
						menuStr += "</ul>";
						menuStr += "</li>";
					}
					if(level1Cnt == 0 && level2Cnt == 0){
						menuStr += "</ul>";
						menuStr += "</li>";
					}
				}
			}
			menuStr += "</ul>";
			$("#gnb").html(menuStr);
		}
	});

	
	common.gnb();
	if(menuUrl !="/common/file" && menuUrl !="/" && menuUrl !="/popup" && menuUrl != "/main" && menuUrl != "/search" && menuUrl != "/login" && menuUrl != "/member" && menuUrl != "/member/myPage" && menuUrl.indexOf("/aireport") == -1    
			&& menuUrl.indexOf("/chat") == -1 && menuUrl.indexOf("/stomp-chat") == -1 && menuUrl.indexOf("/publish") == -1  && menuUrl.indexOf("/subscribe") == -1 && menuUrl.indexOf("/board/11") == -1) {
		
		if(menuUrl =="/board/1" || menuUrl =="/board/lawAnalysis"){
			menuUrl = "/board/18";
		}
		
		$.ajax({
			async: true,
			type:'get',
			url:"/common/menu/findOneNaviJson",
			dataType : "json",
			data:{"menuType" : 'COM003002', "menuUrl" : menuUrl+"/"},
			success:function(data){
				if(data.menuPath.indexOf('-') != -1){
					var menuNavi = data.menuPath.split('-');
				}
					var menuNaviHtml = "";
					if(menuNavi.length == 2){
						menuNaviHtml += "<div class=\"sub_top\">";
						menuNaviHtml += "<a href=\"#none\" class=\"btn_home\">홈으로</a>";
						menuNaviHtml += "<ul class=\"location\">";
						menuNaviHtml += "	<li><a href=\"#none\">"+menuNavi[0]+"</a>";
						menuNaviHtml += "		<ul class=\"smenu\">";
						for(var i = 0; i < data.menuDepth1List.length; i++){
							menuNaviHtml += "			<li><a href=\"javascript:naviMenuMoveByMenuNo('"+data.menuDepth1List[i].menuUrl+"', " + data.menuNo + ");\">"+data.menuDepth1List[i].menuName+"</a></li>";
						}
						menuNaviHtml += "		</ul>";
						menuNaviHtml += "	</li>";
						menuNaviHtml += "	<li><a href=\"#none\">"+menuNavi[1]+"</a>";
						menuNaviHtml += "		<ul class=\"smenu\">";
						for(var i = 0; i < data.menuDepth2List.length; i++){
							menuNaviHtml += "			<li><a href=\"javascript:naviMenuMoveByMenuNo('"+data.menuDepth2List[i].menuUrl+"', " + data.menuNo + ");\">"+data.menuDepth2List[i].menuName+"</a></li>";
						}
							menuNaviHtml += "	</ul>";
						menuNaviHtml += "	</li>";
						menuNaviHtml += "</ul>";
						menuNaviHtml += "</div>";
					}else if(menuNavi.length == 3){
						menuNaviHtml += "<div class=\"sub_top\">";
						menuNaviHtml += "<a href=\"#none\" class=\"btn_home\">홈으로</a>";
						menuNaviHtml += "<ul class=\"location\">";
						menuNaviHtml += "	<li><a href=\"#none\">"+menuNavi[0]+"</a>";
						menuNaviHtml += "		<ul class=\"smenu\">";
						for(var i = 0; i < data.menuDepth1List.length; i++){
							menuNaviHtml += "			<li><a href=\"javascript:naviMenuMoveByMenuNo('"+data.menuDepth1List[i].menuUrl+"', " + data.menuNo + ");\">"+data.menuDepth1List[i].menuName+"</a></li>";
						}
						menuNaviHtml += "		</ul>";
						menuNaviHtml += "	</li>";
						menuNaviHtml += "	<li><a href=\"#none\">"+menuNavi[1]+"</a>";
						menuNaviHtml += "		<ul class=\"smenu\">";
						for(var i = 0; i < data.menuDepth2List.length; i++){
							menuNaviHtml += "			<li><a href=\"javascript:naviMenuMoveByMenuNo('"+data.menuDepth2List[i].menuUrl+"', " + data.menuNo + ");\">"+data.menuDepth2List[i].menuName+"</a></li>";
						}
							menuNaviHtml += "		</ul>";
						menuNaviHtml += "	</li>";
						menuNaviHtml += "	<li><a href=\"#none\">"+menuNavi[2]+"</a>";
						menuNaviHtml += "		<ul class=\"smenu\">";
						for(var i = 0; i < data.menuDepth3List.length; i++){
							menuNaviHtml += "		<li><a href=\"javascript:naviMenuMoveByMenuNo('"+data.menuDepth3List[i].menuUrl+"', " + data.menuNo + ");\">"+data.menuDepth3List[i].menuName+"</a></li>";
						}
						menuNaviHtml += "		</ul>";
						menuNaviHtml += "	</li>";
						menuNaviHtml += "</ul>";
						menuNaviHtml += "</div>";
					}
					$("#sub_top").html(menuNaviHtml);
					sub.location();
				}
			});
		
	}
	
	if(menuUrl.indexOf("/board/11") != -1){
		var menuNaviHtml = "";
		menuNaviHtml += "<div class=\"sub_top\">";
		menuNaviHtml += "<a href=\"/\" class=\"btn_home\">홈으로</a>";
		menuNaviHtml += "<ul class=\"location\">";
		menuNaviHtml += "<li><a href=\"/board/11/boardList\">전체 공지사항</a></li>";
		menuNaviHtml += "</ul>";
		menuNaviHtml += "</div>";
		$("#sub_top").html(menuNaviHtml);
		sub.location();
	}else if(menuUrl.indexOf("/board/scrap") != -1){
		var menuNaviHtml = "";
		menuNaviHtml += "<div class=\"sub_top\">";
		menuNaviHtml += "<a href=\"/\" class=\"btn_home\">홈으로</a>";
		menuNaviHtml += "<ul class=\"location\">";
		menuNaviHtml += "<li><a href=\"/board/scrap/myScrapList\">나의 스크랩</a></li>";
		menuNaviHtml += "</ul>";
		menuNaviHtml += "</div>";
		$("#sub_top").html(menuNaviHtml);
		sub.location();
	}
	
	$.ajax({
		async: true,
		type:'get',
		url:"/search/getHotKeyword",
		dataType : "json",
		success:function(data){
			$(".keyword_area>dd").empty();
			for(var i in data){
				$(".keyword_area>dd").append('<a href="javascript:searhHotKeyword(\''+data[i]+'\')">'+data[i]+'</a>');
			}
			
		}
	});
	

	/**
	let target = document.querySelector('input');
	let observer = new MutationObserver((mutations) => {
		alert('파일 업로드!');
	})
	let option = {
			attributes: true,
			childList: true,
			characterData: true
	};
	observer.observe(target, option);
	**/
	
});


$(window).load(function() {
    $('.ui-datepicker-year').attr('title', '연도 선택');
    $('.ui-datepicker-month').attr('title', '월 선택');
    $('.dz-hidden-input').attr('title', '파일 업로드');
	$('.ui-datepicker-calendar').append('<caption>날짜 선택</caption>');	
});


$('[class^=link_]').on('focusin', function() {
	// 공통
	if ($(this).context.className == 'link_notice') { $(this).find('.txt').css('margin-left', '-47px').css('opacity', 1).css('z-index', 10)}
	if ($(this).context.className == 'link_sitemap') { $(this).find('.txt').css('margin-left', '-48px').css('opacity', 1).css('z-index', 10)}
	
	// 로그인 전
	if ($(this).context.className == 'link_login') { $(this).find('.txt').css('margin-left', '-40px').css('opacity', 1).css('z-index', 10)}
	if ($(this).context.className == 'link_find') { $(this).find('.txt').css('margin-left', '-81px').css('opacity', 1).css('z-index', 10)}
	if ($(this).context.className == 'link_join') { $(this).find('.txt').css('margin-left', '-46px').css('opacity', 1).css('z-index', 10)}
	
	// 로그인 후
	if ($(this).context.className == 'link_mypage') { $(this).find('.txt').css('margin-left', '-53px').css('opacity', 1).css('z-index', 10)}
	if ($(this).context.className == 'link_mypage2') { $(this).find('.txt').css('margin-left', '-65px').css('opacity', 1).css('z-index', 10)}
	if ($(this).context.className == 'link_logout') { $(this).find('.txt').css('margin-left', '-46px').css('opacity', 1).css('z-index', 10)}
		   
}).on('focusout', function() {
	$(this).find('.txt').css('opacity', '').css('z-index', '');
})


//인기검색어_클릭이벤트
function searhHotKeyword(keyword){
	$("#hkeyword").val(keyword);
	$("#searchForm_h").submit();
}

//헤더_검색
function validateForm_h(){
	if($("#hkeyword").val()==""){
		alert("검색어를 입력해 주세요");
		return false;
	}
	$("#hrekeyword").val($("#hkeyword").val());
	
	setCookie($("#hkeyword").val());
	return true;
}


//쿠키 설정
function setCookie(cTerm){
	var cName = "tempCookie";
	var cValue = cTerm;
	var cDay = 1;

	var start = document.cookie.indexOf(cName);
	if (start != -1) {
		var tempArray = getCookie(cName).split(",");
		for(var i in tempArray){
			if(i == 9)
				break;
			if(tempArray[i] == cTerm)
				return;
			if(tempArray[i] != "")
				cValue = cValue + "," + tempArray[i];
		}
	}
	var expire = new Date();
	expire.setDate(expire.getDate() + cDay);
	cookies = cName + '=' + escape(cValue) + '; path=/'; // 한글 깨짐을 막기위해 escape(cValue)를 합니다.
	if (typeof cDay != 'undefined')
		cookies += ';expires=' + expire.toGMTString() + ';';
	document.cookie = cookies;
}

//쿠키 가져오기
function getCookie(cName) {
	cName = cName + '=';
	var cookieData = document.cookie;
	var start = cookieData.indexOf(cName);
	var cValue = '';
	if (start != -1) {
		start += cName.length;
		var end = cookieData.indexOf(';', start);
		if (end == -1)
			end = cookieData.length;
		cValue = cookieData.substring(start, end);
	}
	return unescape(cValue);
}

function topMenuMove(url){
	$("#url").val(url);
	if(fnCmdAuthResourceCheck(url)){
		if((url.indexOf("compliance") > -1 || url.indexOf("report") > -1 || url.indexOf("cyber") > -1 ||  url.indexOf("member/myPage/pwChangeForm") > -1 || url.indexOf("performManage") > -1 || url.indexOf("vm") > -1) && url.indexOf("vm/board") <= -1 ){	 //2024-유지보수-83 취약점분석평가수요조사 2차인증	//2025-유지보수-22 최상위 메뉴 변경
			//url.indexOf("member/myPage/subMain") > -1 || 2022.10.28 삭제
			
			
		     location.href=url;
			
		}else{
			location.href=url;
		}
	}else{
		location.href=url;
	}
}


function naviMenuMove(url){
	$("#url").val(url);
	if(fnCmdAuthResourceCheck(url)){
		if((url.indexOf("compliance") > -1 || url.indexOf("report") > -1 || url.indexOf("cyber") > -1 || url.indexOf("member/myPage/subMain") > -1 || url.indexOf("performManage") > -1 || url.indexOf("consult") > -1 || url.indexOf("consultCloud") > -1 || url.indexOf("vm") > -1) && url.indexOf("vm/board") <= -1 ){	//2024-유지보수-83 취약점분석평가수요조사 2차인증	//2025-유지보수-22 최상위메뉴 변경
			
			
		     location.href=url;
			
		}else{
			location.href=url;
		}
	}else{
		location.href=url;
	}
}

/**
 * 메뉴 번호 저장 (2022 NAT IP 정책 관련 추가)
 */
function topMenuMoveByMenuNo(url, menuNo){
	$("#url").val(url);
	var result = fnCmdAuthResourceCheckMenu(url, menuNo);
	
	if(result == true || result != "NATIP-FAIL"){
		if((url.indexOf("compliance") > -1 || url.indexOf("report") > -1 || url.indexOf("cyber") > -1 || url.indexOf("member/myPage/subMain") > -1 || url.indexOf("member/myPage/pwChangeForm") > -1 || url.indexOf("performManage") > -1 || url.indexOf("vm") > -1) && url.indexOf("vm/board") <= -1 ){		//2024-유지보수-83 취약점분석평가수요조사 2차인증		//2025-유지보수-22 최상위 메뉴 변경
			
			
		     location.href=url;
			
		}else{
			location.href=url;
		}
	}else{
		if (result != "NATIP-FAIL"){

			location.href=url;	
		}
	}
}
function naviMenuMoveByMenuNo(url, menuNo){
	$("#url").val(url);

	var result = fnCmdAuthResourceCheckMenu(url, menuNo);
	
	if(result != "NATIP-FAIL"){
		if((url.indexOf("compliance") > -1 || url.indexOf("report") > -1 || url.indexOf("cyber") > -1 || url.indexOf("member/myPage/subMain") > -1 || url.indexOf("performManage") > -1 || url.indexOf("consult") > -1 || url.indexOf("consultCloud") > -1 || url.indexOf("vm") > -1) && url.indexOf("vm/board") <= -1 ){	//2024-유지보수-83 취약점분석평가수요조사 2차인증	//2025-유지보수-22 최상위 메뉴 변경
			
			
		     location.href=url;
			
		}else{
			location.href=url;
		}
	}else{
		if (result != "NATIP-FAIL"){

			location.href=url;	
		}
	}
}
//권한 자원 체크
function fnCmdAuthResourceCheck(url){
	var flag = true;
	$.ajax({
        async: false,
        type: 'post',
        url: '/member/authResourceCheck',
        dataType: 'json',
        data:{
        	url : url
	    },
        success: function(data) {
    		flag = data;
        },
        error: function(data){
			flag = false;
        }
    });
	return flag
}


//권한 자원 체크 - 메뉴번호 저장
function fnCmdAuthResourceCheckMenu(url, menuNo){
	
	var flag = true;
	$.ajax({
      async: false,
      type: 'post',
      url: '/member/authResourceCheck',
      dataType: 'json',
      data:{
      	url : url, menuNo : menuNo 
	    },
      success: function(data) {
  		flag = data;
      },
      error: function(data){
		flag = false;
    	  
      	if(data.status == 406 || (data.responseJSON != null && data.responseJSON.code == 'E00010601')){
      		flag = "NATIP-FAIL";
    		$("#menuForm").attr("action", "/common/error/errorsNatIp").submit();
      	}
		
      }
  	});
	return flag;
}
</script>
		</header>
		<!-- contents -->
		<div id="contents">
			















<!-- 본인인증결과 시작-->
<form method="post" id="addForm" name="addForm" onsubmit="return false">
    <input type="hidden" id="certRec"  name="certRec" />
    <input type="hidden" id="certNum"  name="certNum" />
    <input type="hidden" id="ciValue"  name="ciValue" /> <!-- 2022 추가 -->
    
    <input type="hidden" id="memberName" name="memberName" /> <!-- 2022 추가 -->
    <input type="hidden" id="birthDay1"  name="birthDay1" /> <!-- 2022 추가 -->
    <input type="hidden" id="birthDay2"  name="birthDay2" /> <!-- 2022 추가 -->
    <input type="hidden" id="birthDay3"  name="birthDay3" /> <!-- 2022 추가 -->
    <input type="hidden" id="phoneCell1" name="phoneCell1" /> <!-- 2022 추가 -->
    <input type="hidden" id="phoneCell2" name="phoneCell2" /> <!-- 2022 추가 -->
    <input type="hidden" id="phoneCell3" name="phoneCell3" /> <!-- 2022 추가 -->    
    
    <input type="hidden" id="certStatus" name="certStatus" /> <!-- 2022 추가 (개인정보동의(1) / 휴면해제(2)) -->
</form>
<!-- 본인인증결과 끝 -->



<div class="sub_top_wrap">
	<div class="sub_top">
		<a href="/" class="btn_home">홈으로</a>
		<ul class="location">
			<li><a href="/login/loginForm">로그인</a>
				<ul class="smenu">
					<li><a href="/login/loginForm">로그인</a></li>
					<li><a href="/member/idSearch">아이디/비밀번호 찾기</a></li>
					<li><a href="/member/intro">회원가입</a></li>
				</ul>
			</li>
		</ul>
	</div>
</div>
<div class="content_area">
	<div class="content_title">
		<h2>로그인</h2>
		<span class="cp">금융보안 레그테크 포털에 오신 것을 환영합니다.</span>
	</div>
		<div class="login_box">
		<form method="post" id="loginForm" name="loginForm">
		<input type="hidden" id="login_error" name="login_error" value=""/>
		<input type="hidden" id="txId" name="txId" value=""/>
		<input type="hidden" id="token" name="token" value=""/>
		<input type="hidden" id="memberId" name="memberId" value=""/>
		<input type="hidden" id="smsTimeExcess" name="smsTimeExcess" value="N"/>
			<fieldset>
				<legend>로그인 정보입력</legend>
				<div>
					<input type="text" id="username" name="username" placeholder="아이디" title="아이디">
				</div>
				<div class="mt10">
					<input type="password" id="password" name="password" placeholder="비밀번호" title="비밀번호">
				</div>
				
				<button class="btn round type1" type="button" onclick="javascript:fnCmdLoginProc();">로그인</button>
				
				<ul class="link_wrap">
					<li class="link_join"><a href="/member/intro">회원가입</a></li>
					<li class="link_idfind"><a href="/member/idSearch">아이디찾기</a></li>
					<li class="link_pwfind"><a href="/member/passwordSearch">비밀번호찾기</a></li>
				</ul>
			</fieldset>
		</form>
	</div>
</div>
<!-- popup_container :레이업팝업은 모두 아래 popup_container 클래스 내에 위치합니다 -->
<div class="popup_container">

	<!-- 카카오페이 간편인증 팝업 -->
	<div id="kakaoCertify" class="layer_box">
		<div class="pop_head"><h2>카카오페이 간편인증</h2></div>
		<div class="pop_cont">
			<div class="kakaoCertify">
				<p class="ico_area"><img src="/images/deco_pop_kakaocertify.png" alt=""></p>
				<div class="msg">
					<p>카카오톡으로 인증 요청이 발송되었습니다.</p>
					<p>카카오 페이 인증을 완료 하신 후 <br>하단의<em>확인</em> 버튼을 눌러주세요.</p>
				</div>
				<div class="btn_area" >
					<a class="btn type2 layer_close" href="/login/loginForm">취소</a>	<!-- 팝업창 닫기 클래스 "layer_close" -->
					<a class="btn type1" href="javascript:fnCmdKakaoLoginProc();">확인</a>
				</div>
			</div>
		</div>
		<button type="button" class="btn_close">닫기</button>
	</div>
	<!-- //.카카오페이 간편인증 팝업 -->

	<!-- 이메일 인증대기 팝업-->
	<div id="emailCertify" class="layer_box">
		<div class="pop_head"><h2>이메일 인증대기</h2></div>
		<div class="pop_cont">
			<div class="emailCertify">
				<p class="ico_area"><img src="/images/deco_pop_emailcertify.png" alt=""></p>
				<div class="msg">
					<p>회원 가입 시 이메일 인증이 완료되지 않았습니다. </p>
					<p>가입 시 등록한 <em>이메일에서 인증 확인</em>하시기 바랍니다.</p>
				</div>
				<div class="btn_area">
					<a class="btn type2 layer_close" href="#none">닫기</a>
					<a class="btn type1" href="javascript:fnCmdEmailSend();">기관 인증 페이지로</a>
				</div>
			</div>
		</div>
		<button type="button" class="btn_close">닫기</button>
	</div>
	<!-- //.이메일 인증대기 팝업 -->

	<!-- 로그인 인증완료 팝업-->
	<div id="loginDone" class="layer_box">
		<div class="pop_head"><h2>로그인</h2></div>
		<div class="pop_cont">
			<div class="loginDone">
				<p class="ico_area"><img src="/images/deco_pop_emailcertify.png" alt=""/></p>
				<div class="msg">
					<em>인증이 완료</em> 되었습니다.<br>로그인 되었습니다.
				</div>
			</div>
		</div>
		<button type="button" class="btn_close">닫기</button>
	</div>
	<!-- //.로그인 인증완료 팝업 -->
	
	<!-- 로그인 실패안내 팝업-->
	<div id="loginFail" class="layer_box">
		<div class="pop_head"><h2>로그인 실패 안내</h2></div>
		<div class="pop_cont">
			<div class="loginFail">
				<p class="ico_area"><img src="/images/deco_pop_loginFail.png" alt="로그인 실패"></p>
				<div class="msg">
					입력하신 로그인 정보가 정확하지 않아<br>
					로그인을 <em>5회 이상</em> 실패하였습니다
					<p>해당 계정은 로그인이 <em>10분간 제한</em> 됩니다.</p>
					<p><em>10분 후</em>에 다시 로그인 하시기 바랍니다.</p>
				</div>
				<div class="btn_area">
					<a class="btn type1 layer_close" href="#none">확인</a>	<!-- 팝업창 닫기 클래스 "layer_close" -->
				</div>
			</div>
		</div>			
		<button type="button" class="btn_close">닫기</button>
	</div>
	<!-- //.로그인 실패안내 팝업 -->
	
	<!-- 2차인증 선택 팝업 -->
	<div id="secondAuth" class="layer_box">
		<div class="pop_head"><h2>인증방법 선택</h2></div>
		<div class="pop_cont">
			<div class="kakaoCertify">
				<div class="msg">
					<span style="font-size: 20px;">2차인증 후 접근 가능한 페이지입니다.</span>
				</div>
				<p class="ico_area"><img src="/images/deco_pop_kakaocertify.png" alt=""></p>
				<div class="msg">
					<p>인증방법을 선택하세요.</p>
					<p>회원 가입 시 입력한 휴대폰 번호로 인증이 진행됩니다.</p>
				</div>
				<div class="btn_area" >
					<!-- 2023.06.19 [SFR-005] 인증 선택 버튼 변경
					<a class="btn type1" href="javascript:fnCmdKakaoPay();">카카오 페이 인증</a> 
					<a class="btn type1" href="javascript:fnCmdSms();">SMS 인증</a>
					-->
					
					<a class="btn type1 wid130 kakaoChkBtn" href="javascript:fnCmdKakaoTalk();">카카오톡 인증</a>
					<a class="btn type1 wid130 naverChkBtn" href="javascript:fnCmdNaver();">네이버 인증</a>
					<a class="btn type1 wid130" href="javascript:fnCmdSms();">SMS 인증</a>
					<!------------------------------------------------------------------------------->
				</div>
			</div>
		</div>
		<button type="button" class="btn_close">닫기</button>
	</div>
	<!-- 2차인증 선택 팝업 -->
	
	
	<!-- 카카오톡 인증 팝업 -->
	<div id="kakaoTalkCertify" class="layer_box">
		<div class="pop_head"><h2>카카오톡 간편인증</h2></div>
		<div class="pop_cont">
			<div class="kakaoCertify">
				<p class="ico_area"><img src="/images/deco_pop_kakaocertify.png" alt=""></p>
				<div class="msg">
					<p>카카오톡으로 인증 요청이 발송되었습니다.</p>
					<p>카카오톡 인증을 완료 하신 후 <br>하단의<em>확인</em> 버튼을 눌러주세요.</p>
				</div>
				<div class="btn_area" >
					<a class="btn type2 layer_close" href="/">취소</a>	<!-- 팝업창 닫기 클래스 "layer_close" -->
					<a class="btn type1" href="javascript:fnCmdKakaoTalkLoginProc();">확인</a>
				</div>
			</div>
		</div>
		<button type="button" class="btn_close">닫기</button>
	</div>
	<!-- //.카카오톡 인증 팝업 -->
	<!------------------------------------------------------------------------------->
	
	
	<!-- 네이버 인증 팝업 -->
	<div id="naverCertify" class="layer_box">
		<div class="pop_head"><h2>네이버 간편인증</h2></div>
		<div class="pop_cont">
			<div class="kakaoCertify">
				<p class="ico_area"><img src="/images/deco_pop_kakaocertify.png" alt=""></p>
				<div class="msg">
					<p>네이버로 인증 요청이 발송되었습니다.</p>
					<p>네이버 인증을 완료 하신 후 <br>하단의<em>확인</em> 버튼을 눌러주세요.</p>
				</div>
				<div class="btn_area" >
					<a class="btn type2 layer_close" href="/">취소</a>	<!-- 팝업창 닫기 클래스 "layer_close" -->
					<a class="btn type1" href="javascript:fnCmdNaverLoginProc();">확인</a>
				</div>
			</div>
		</div>
		<button type="button" class="btn_close">닫기</button>
	</div>
	<!-- //.네이버 인증 팝업 -->
	<!------------------------------------------------------------------------------->
	
	<!-- SMS인증 팝업-->
	<div id="snsCertify" class="layer_box">
		<div class="pop_head"><h2>SMS 인증</h2></div>
		<div class="pop_cont">
			<div class="loginFail">
				<p class="ico_area"><img src="/images/deco_pop_sns.png" alt=""></p>
				<div class="msg">
					회원 가입 시 입력한 휴대폰 번호로<br>
					인증번호를 발송하였습니다.
				</div>
				<div class="cert_mail alC mt20">
						<fieldset>
							<legend>SMS 인증</legend>
							<div class="time_rel w250">
								<input class="wf100" type="text" id="smsKey" name="smsKey" title="인증번호" placeholder="인증번호를 입력하세요." maxlength="6" onkeypress="javascript:if(event.keyCode == 13){fnCmdSmsLoginProc();}"><!-- 접근성수정: title추가 -->									
								<div class="time" id="smsTime">3분 0초</div>
							</div>
							<button class="btnIn type1" type="button" onclick="javascript:fnCmdSmsReSend();" id="reSendBtn" disabled>재발송</button>
							<p class="alert_msg alL ml3 mt5">3분이내에 발급 받은 인증번호를 입력하세요.</p>
						</fieldset>
				</div>
				<div class="btn_area">
					<a class="btn type2" href="/login/loginForm">취소</a>
					<a class="btn type1" id="smsBtn" href="javascript:fnCmdSmsLoginProc();">확인</a>	<!-- 팝업창 닫기 클래스 "layer_close" -->
				</div>
			</div>
		</div>			
		<button type="button" class="btn_close">닫기</button>
	</div>
    
    <!-- 2022 금융보안 레그테크 포털 개인정보 보호 강화 관련 시스템 도입 START -->
    <!-- 휴면회원 안내 팝업 -->
    <div id="divDormantMember" class="layer_box">
        <div class="pop_head"><h2>휴면회원 안내</h2></div>
        <div class="pop_cont row_top">
            <div class="kakaoCertify">
                <div class="msg">
                    <span style="font-size: 20px;">귀하는 금융보안 레그테크 포털의 휴면회원 입니다.</span>
                </div>
                <div class="msg">
                    <p><span id="dormantMemberName"></span> 님은 장기간 금융보안 레그테크 포털을 이용하지 않아<br> 
                    「개인정보 보호법」 제39조의6(개인정보 파기에 대한 특례) 및 <br> 
                    동법 시행령 제48조의5(개인정보 파기에 대한 특례)에서 정한 바에 따라 <br> 
                    <span id="dormantDeleteInfoDate"></span> 에 휴면회원으로 전환되었습니다.</p>
                </div>
                <div class="msg">
                    <p>금융보안 레그테크 포털의 휴면회원 해제를 원하시는 경우, <br>아래의 휴면 해제 신청을 통해 재이용이 가능합니다.</p>
                </div>
                <div class="btn_area" >
                    <a class="btn type2" href="javascript:fnWithdrawalMemberAuth();">회원 탈퇴</a>   <!-- 팝업창 닫기 클래스 "layer_close" -->
                    <a class="btn type1" href="javascript:fnDormantMemberAuth();">휴면회원 해제</a>
                </div>
            </div>
        </div>
        <button type="button" id="btnClosePopupDormantMember" class="btn_close">닫기</button>
    </div>
    <!-- 휴면회원 안내 팝업 -->
    
    <!-- 개인정보 수집 및 이용 동의(추가) 안내 팝업 -->
    <div id="ciConfirm" class="layer_box" >
        <div class="pop_head"><h2>개인정보 수집 및 이용 동의(추가)</h2></div>
        <div class="pop_cont row_top">
            <div class="kakaoCertify">                
                <div class="msg mt0">
                    <ul>
                        <li>- 수집/이용 목적 : 서비스 이용에 따른 회원관리 </li>
                        <li>- 필수 수집 이용 항목(추가) : CI</li>
                        <li>- 보유기간 : 웹페이지 회원 탈퇴 후 즉시 삭제</li>
                    </ul>
                </div>
                <div class="msg">
                    <p>귀하는 개인정보 수집이용 동의를 거부할 권리가 있습니다. <br>그러나 동의 거부시 금융보안 레그테크 웹페이지 이용이 불가합니다.</p>
                </div>
                <div class="btn_area" >
                    <a class="btn type2" href="javascript:common.modalPopAutoHide('#ciConfirm');">동의하지 않음</a>   <!-- 팝업창 닫기 클래스 "layer_close" -->
                    <a class="btn type1" href="javascript:javascript:fnCmdHp('1');">동의</a>
                </div>
            </div>
        </div>
        <button type="button" class="btn_close">닫기</button>
    </div>
    <!-- 개인정보 수집 및 이용 동의(추가) 안내 팝업 -->
    
    <!-- 통신사 본인인증 팝업 2022.10.18 -->
    <div id="hpAuth" class="layer_box">
        <div class="pop_head"><h2>인증방법 선택</h2></div>
        <div class="pop_cont">
            <div class="telecomCertify">
                <div class="msg">
                    <span style="font-size: 20px;">2차 인증 후 휴면해제가 가능합니다.</span>
                </div>
                <p class="ico_area"><img src="/images/deco_pop_kakaocertify.png" alt=""></p>
                <div class="msg">
                    <p>인증방법을 선택하세요.</p>
                </div>
                <div class="btn_area" >
                    <a class="btn type1" href="javascript:fnCmdHp('2');">휴대폰 본인인증</a>
                </div>
            </div>
        </div>
        <button type="button" class="btn_close">닫기</button>
    </div>
    <!-- .통신사 본인인증 팝업 -->

    <!-- 통신사 본인인증 팝업 두 번째 2022.10.18 -->
    <div id="hpAuth2" class="layer_box">
        <div class="pop_head">
            <h2>휴대폰 본인인증</h2>
        </div>
        <div class="pop_cont">
            <div class="kakaoCertify">
                <p class="ico_area">
                    <img src="/images/deco_pop_kakaocertify.png" alt="">
                </p>
                <div class="msg">
                    <p>휴대폰 본인인증 요청이 발송되었습니다.</p>
                    <p>
                        휴대폰 본인인증을 인증을 완료 하신 후 <br>하단의 <em>확인</em> 버튼을 눌러주세요.
                    </p>
                </div>
                <div class="btn_area">
                    <a class="btn type2 layer_close" href="javascript:fnClose();">취소</a>
                    <!-- 팝업창 닫기 클래스 "layer_close" -->
                    <a class="btn type1"  href="javascript:fnHpComplete();">확인</a>
                </div>
            </div>
        </div>
        <button type="button" class="btn_close">닫기</button>
    </div>
    <!-- .통신사 본인인증 팝업 두 번째 -->
    
    <!-- 2022 금융보안 레그테크 포털 개인정보 보호 강화 관련 시스템 도입 END -->
</div>
<!-- //.popup_container -->
<script>
	// *레이어 팝업 호출방식
	// 버튼클릭시 : 해당버튼에 onclick="common.modalPopShow('#호출대상 팝업아이디','가로사이즈');
	// 자동팝업 호출시 : common.modalPopShow('#호출대상 팝업아이디','가로사이즈');

	$(document).ready(function(){
		//해당페이지 스크립트
		//common.modalPopShow('#loginDone','370');	//로그인 인증완료
		//common.modalPopShow('#emailCertify','400');
	});

	$(function(){
		/*
		(function(a, b) {
        	if (/(android|ipad|playbook|silk|android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)
        			|| /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4)))
        		window.location = b;
        })(navigator.userAgent || navigator.vendor || window.opera,  "/m/login/loginForm");
		*/
	    $('#username').keypress(function(e){
	       if((e.keyCode) && (e.keyCode==13)) { // 누르면 키번호가 13번이면 경고창을 띄움
	    	   fnCmdLoginProc();
	       }
	    });
	    $('#password').keypress(function(e){
	        if((e.keyCode) && (e.keyCode==13)) { // 누르면 키번호가 13번이면 경고창을 띄움
	        	fnCmdLoginProc();
	        }
		 });
	});
	
	// 로그인 처리
	function fnCmdLoginProc(){
		if($("#username").val()==""){
			alert("아이디를 입력하세요.");
			$("#username").focus();
			return;
		}
		if($("#password").val()==""){
			alert("패스워드를 입력하세요.");
			$("#password").focus();
			return;
		}
		
		$.ajax({																									 	                                                                                        																	          
			async: true,                                                                                                                                     																	          
			type:'post',                                                                                                                                       																	           
			url:'/member/findOneMember',                                                                                                                  																	           
			dataType : 'json',                                                                                                                                																	         
			data: {memberId : $("#username").val()
				  ,memberPw : $("#password").val()
			      },                                                                                       																	           
			success:function(data){
				/*
				if('-1' > -1 || '-1' > -1 || '-1' > -1 ||
					'-1' > -1){
					common.modalPopShow('#secondAuth','400');
				}else{*/
					$("#loginForm").attr("action","/login/addLogin").submit();
				//}
			},
			error:function(data){
				if(data.responseJSON.code == 'E00010002' || data.responseJSON.code == 'E00010201'){
					alert("사용자 정보가 일치하지 않습니다.");
					return;
				}else if(data.responseJSON.code == 'E00010203'){
					common.modalPopShow('#emailCertify','450');
				}else if(data.responseJSON.code == 'E00010204'){
					common.modalPopShow('#loginFail','450');
				// 2022 금융보안 레그테크 포털 개인정보 보호 강화 관련 시스템 도입 START
				}else if(data.responseJSON.code == 'E00010206'){
					findOneByMemberIdForDormant();
					common.modalPopShow('#divDormantMember','500');
				}else if(data.responseJSON.code == 'E00010207'){
					common.modalPopShow('#ciConfirm','560');		//개인정보수집동의 모달창
				// 2022 금융보안 레그테크 포털 개인정보 보호 강화 관련 시스템 도입 END
				}else if(data.responseJSON.code == 'E00010205'){
					alert(data.responseJSON.message);
					return;
				}
			}
		});
	}

	var login_error = $("#login_error").val();
	
	if(login_error){
		alert("사용자 정보가 일치하지 않습니다.");
	}
	
	function fnCmdKakaoLoginProc(){
		var tx_id = $("#txId").val();
		var token = $("#token").val();
		$.ajax({
	        url: '/third/kakao/auth/status',
	        type: 'get',
	        dataType: 'json',
	        data:{"txId" : tx_id,
	         	  "token" : token
	        },
	        success: function(data) {
	        	if(tx_id ==  data.data.tx_id && data.data.status == 'COMPLETE'){
	        		fnCmdKakaoVerify();
	        	}else if(tx_id ==  data.data.tx_id && data.data.status == 'EXPIRED'){
	        		alert("인증시간이 종료 되었습니다.다시시도 하세요.");
	        		return;
		        }else if(tx_id ==  data.data.tx_id && data.data.status == 'PREPARE'){
		        	alert("카카오 간편인증을 해주세요.");
		        	return;
		        }
	        },
	        error: function(data){
				alert('카카오 간편인증에 실패 하였습니다.');
				return;
	        }
	    });
	}
	
	function fnCmdKakaoVerify(){
		var tx_id = $("#txId").val();
		$.ajax({
	        url: '/third/kakao/auth/verify',
	        type: 'get',
	        dataType: 'json',
	        data:{"txId" : tx_id
	        },
	        success: function(data) {
	        	if(data.data.token != null){
	        		$("#loginForm").attr("action","/login/addLogin").submit();
	        	}
	        },
	        error: function(data){
				alert('카카오 간편인증 검증에 실패 하였습니다.');
				return;
	        }
	    });
	}
	
	function fnCmdEmailSend(){
		$("#memberId").val($("#username").val());
		$("#loginForm").attr("action","/member/step3").submit();
	}
	
	// 카카오 페이 인증
	function fnCmdKakaoPay(){
		common.modalPopAutoHide("#secondAuth");
		$.ajax({																									 	                                                                                        																	          
			async: true,                                                                                                                                     																	          
			type:'post',                                                                                                                                       																	           
			url:'/third/kakao/auth',                                                                                                                  																	           
			dataType : 'json',                                                                                                                                																	         
			data: {memberId : $("#username").val()
				  ,memberPw : $("#password").val()
			      },                                                                                       																	           
			success:function(data){         
				common.modalPopShow('#kakaoCertify','370');
				$("#txId").val(data.data.tx_id);
				$("#token").val(data.data.token);
			},
			error:function(data){
				if(data.status == 404){
					if(data.responseJSON.code == 'E00010002' || data.responseJSON.code == 'E00010201'){
						alert("사용자 정보가 일치하지 않습니다.");
						return;
					}else if(data.responseJSON.code == 'E00010203'){
						common.modalPopShow('#emailCertify','450');
					}else if(data.responseJSON.code == 'E00010204'){
						common.modalPopShow('#loginFail','450');
					}else if(data.responseJSON.code == 'E00010205'){
						alert(data.responseJSON.message);
						return;
					}
				}else{
					alert('카카오 간편인증에 실패 하였습니다.');
					return;
				}
			}                                                                                                                                                 																	      
		});
	}
	
	
	function fnCmdKakaoTalk(){
		console.log("---- 카카오톡 인증 (전자서명 준비하기, 전자서명 요청하기) ----")
		common.modalPopAutoHide("#secondAuth");
		$.ajax({																									 	                                                                                        																	          
			async: true,                                                                                                                                     																	          
			type:'post',                                                                                                                                       																	           
			url:'/third/kakaoTalk/authPreReq',                                                                                                                  																	           
			dataType : 'json',                                                                                                                                																	         
			success:function(data){
				common.modalPopShow('#kakaoTalkCertify','450');
				$("#txId").val(data.data.tx_id);
				$("#token").val(data.data.token);
			},
			error:function(data){
				console.log("error data : ", data);
				if(data.status == 404){
					if(data.responseJSON.code == 'E00010002' || data.responseJSON.code == 'E00010201'){
						alert("사용자 정보가 일치하지 않습니다.");
						return;
					}else if(data.responseJSON.code == 'E00010205'){
						alert(data.responseJSON.message);
						return;
					}
				}else{
					alert('카카오 간편인증에 실패 하였습니다.');
					return;
				}
			}                                                                                                                                                 																	      
		});
	}
	/*****************************************************************************************************/
	  
	
	function fnCmdKakaoTalkLoginProc(){
		console.log("---- 카카오톡 인증 (전자서명 상태 확인하기) ----")
		var tx_id = $("#txId").val();
		var token = $("#token").val();
		$.ajax({
	        url: '/third/kakaoTalk/authStatus',
	        type: 'get',
	        dataType: 'json',
	        data:{"txId" : tx_id,
	         	  "token" : token
	        },
	        success: function(data) {
	        	if(tx_id ==  data.data.tx_id && data.data.status == 'COMPLETED'){
	        		var url = $("#url").val();
	        		fnCmdKakaoTalkVerify(url)
	        	}else if(tx_id ==  data.data.tx_id && data.data.status == 'EXPIRED'){
	        		alert("인증시간이 종료 되었습니다.다시시도 하세요.");
	        		return;
		        }else if(tx_id ==  data.data.tx_id && data.data.status == 'REQUESTED'){
		        	alert("카카오 간편인증을 해주세요.");
		        	return;
		        }
	        },
	        error: function(data){
				alert('카카오 간편인증에 실패 하였습니다.');
				return;
	        }
	    });
	}
	/*****************************************************************************************************/

	
	function fnCmdKakaoTalkVerify(url){
		console.log("---- 카카오톡 인증 (전자서명 검증하기) ----")
		var tx_id = $("#txId").val();
		$.ajax({
	        url: '/third/kakaoTalk/authVerify',
	        type: 'get',
	        dataType: 'json',
	        data:{"txId" : tx_id
	        },
	        success: function(data) {
	        	if(data.data.status == "COMPLETED"){
	        		location.href = url;
	        	}
	        },
	        error: function(data){
				alert('카카오 간편인증 검증에 실패 하였습니다.');
				return;
	        }
	    });
	}
	/*****************************************************************************************************/
	  
	 
	function fnCmdNaver(){
		console.log("---- 네이버 인증 (인증서 인증요청 API) ----")
		common.modalPopAutoHide("#secondAuth");
		$.ajax({																									 	                                                                                        																	          
			async: true,                                                                                                                                     																	          
			type:'post',                                                                                                                                       																	           
			url:'/third/naver/authRequest',                                                                                                                  																	           
			dataType : 'json',                                                                                                                                																	         
			success:function(data){
				console.log("네이버 인증 (인증서 인증요청 API) response data : " + JSON.stringify(data));
				common.modalPopShow('#naverCertify','450');
				$("#txId").val(data.txId);
				$("#token").val(data.token);
			},
			error:function(data){
				console.log("error data : ", data);
				if(data.status == 404){
					if(data.responseJSON.code == 'E00010002' || data.responseJSON.code == 'E00010201'){
						alert("사용자 정보가 일치하지 않습니다.");
						return;
					}else if(data.responseJSON.code == 'E00010205'){
						alert(data.responseJSON.message);
						return;
					}
				}else{
					alert('네이버 인증에 실패 하였습니다.');
					return;
				}
			}                                                                                                                                                 																	      
		});
	}
	/*****************************************************************************************************/ 

	
	function fnCmdNaverLoginProc(){
		console.log("---- 네이버 인증 (인증서 인증결과조회 API) ----")
		var tx_id = $("#txId").val();
		var token = $("#token").val();
		$.ajax({
	        url: '/third/naver/authResult',
	        type: 'get',
	        dataType: 'json',
	        data:{"txId" : tx_id,
	         	  "token" : token
	        },
	        success: function(data) {
				console.log("네이버 인증 (인증서 인증결과조회 API) response data : " + JSON.stringify(data));
	        	if(tx_id ==  data.txId && data.authResult == 'success'){
	        		var url = $("#url").val();
	        		fnCmdNaverStatus(url)
	        	}else if(tx_id ==  data.txId && data.authResult == 'pending'){
	        		alert("네이버 간편인증을 해주세요.");
	        		return;
		        }else if(tx_id ==  data.txId && data.authResult == 'cancel'){
		        	alert("네이버 간편인증이 취소되었습니다.");
		        	return;
		        }
	        },
	        error: function(data){
				alert('네이버 간편인증에 실패 하였습니다.');
				return;
	        }
	    });
	}
	/*****************************************************************************************************/


	
	function fnCmdNaverStatus(url){
		console.log("---- 네이버 인증 (인증서 인증상태조회 API) ----")
		var tx_id = $("#txId").val();
		$.ajax({
	        url: '/third/naver/authStatus',
	        type: 'get',
	        dataType: 'json',
	        data:{"txId" : tx_id
	        },
	        success: function(data) {
				console.log("네이버 인증 (인증서 인증상태조회 API) response data : " + JSON.stringify(data));
	        	if(data.authStatus == "success"){
	        		location.href = url;
	        	}
	        },
	        error: function(data){
				alert('네이버 간편인증 검증에 실패 하였습니다.');
				return;
	        }
	    });
	}
	/*****************************************************************************************************/
	
	var setTime = 180; // 최초 설정 시간(기본 : 초)	
	var tid = null;
	function fnSmdSetTime(){
		tid = setInterval('msg_time()',1000) 
	};

	// SMS 인증
	function fnCmdSms(){
		if(tid != null){
			clearInterval(tid);
		}
		$("#smsKey").val("");
		setTime = 180;
		common.modalPopAutoHide("#secondAuth");
		$("#smsTimeExcess").val("N");
	    $("#reSendBtn").attr("disabled", true);
		$.ajax({
	        async: true,
	        type: 'post',
	        url: '/member/smsKeySend',
	        dataType: 'json',
	        data:{memberId : $("#username").val()
				 ,memberPw : $("#password").val()
		    },
	        success: function(data) {
	    		common.modalPopShow('#snsCertify','450');
	    		fnSmdSetTime();
	        },
	        error: function(data){
				alert('SMS 인증에 실패 하였습니다.');
				return;
	        }
	    });
	    common.modalPopShow('#snsCertify','450');
	}
	
	function msg_time() {	// 1초씩 카운트
		m = Math.floor(setTime / 60) + "분 " + setTime % 60 + "초";	// 남은 시간 계산
		$("#smsTime").html(m);
		setTime--;					// 1초씩 감소
		if (setTime < 0) {			// 시간이 종료 되었으면..
			clearInterval(tid);		// 타이머 해제
			$("#reSendBtn").attr("disabled", false);
			$("#smsBtn").removeAttr("href")
			$("#smsTimeExcess").val("Y");
		}
	}
	
	//SMS 인증 처리
	function fnCmdSmsLoginProc(){
		if($("#smsTimeExcess").val()=="N"){
			$.ajax({
		        async: true,
		        type: 'post',
		        url: '/member/smsKeyConfirm',
		        dataType: 'json',
		        data:{memberId : $("#username").val()
					 ,memberPw : $("#password").val()
					 ,smsKey : $("#smsKey").val()
			    },
		        success: function(data) {
		        	if(data){
		        		$("#loginForm").attr("action","/login/addLogin").submit();
		        	}else{
		        		alert("인증번호가 일치 하지 않습니다.");
		        		return;
		        	}
		        },
		        error: function(data){
		        	if(data.status == 404){
		        		if(data.responseJSON.code == 'E00010204'){
		        			common.modalPopAutoHide("#snsCertify");
							common.modalPopShow('#loginFail','450');
			        	} else {
			        		alert('인증번호가 일치 하지 않습니다.');
			        	}
		        	}else {
						alert('SMS 인증에 실패 하였습니다.');
		        	}
		        }
		    });
		}else{
			alert("인증시간이 초과되었습니다.\n재발송 버튼을 눌러 재인증해주세요.");
			return;
		}
	}
	
	//SMS 재발송
	function fnCmdSmsReSend(){
		$("#reSendBtn").attr("disabled", true);
		$("#smsBtn").attr("href","javascript:fnCmdSmsLoginProc();");
		$.ajax({
	        async: true,
	        type: 'post',
	        url: '/member/smsKeySend',
	        dataType: 'json',
	        data:{memberId : $("#username").val()
				 ,memberPw : $("#password").val()
		    },
	        success: function(data) {
	        	$("#smsKey").val("");
	        	$("#smsTimeExcess").val("N");
	        	setTime = 180; // 최초 설정 시간(기본 : 초)	
	    		fnSmdSetTime();
	        },
	        error: function(data){
				alert('SMS 인증에 실패 하였습니다.');
				return;
	        }
	    });
	}
	
	// 2022 금융보안 레그테크 포털 개인정보 보호 강화 관련 시스템 도입 START
	// 휴면 회원 해제
	function fnDormantMemberAuth(){
		common.modalPopAutoHide("#divDormantMember");
		common.modalPopShow('#hpAuth','400');
	}
	
	
	// 휴대폰 본인인증 창띄우기 
	function fnCmdHp(type) {
		// 기존 팝업 죽이기
		common.modalPopAutoHide("#ciConfirm");
		common.modalPopAutoHide("#hpAuth");
		
		// 새 팝업 띄우기
		common.modalPopShow('#hpAuth2','450');

		$("#certStatus").val(type);
		
		openKMCISWindow();
	}


	// 휴대폰 본인인증 완료
	function fnHpComplete() {
		
		if ($("#certStatus").val() == "1"){
			fnSaveCiCert();
		}else if ($("#certStatus").val() == "2"){
			fnRestoreDormantMember();
		}

		common.modalPopAutoHide("#hpAuth2");
	}
	
	function fnSaveCiCert() {

		
	    let ciValue = $("#ciValue").val();

		/*if(ciValue == ""){
		    alert("휴대폰 인증을 진행 해주세요.");
	        return;
	    }*/
		
		let memberId = $("#username").val();
	    var year = $("#birthDay1").val();
	    var month = leadingZeros($("#birthDay2").val(), 2);
	    var date = leadingZeros($("#birthDay3").val(), 2);
		   
	    let memberName = $("#memberName").val();
	    let birthDay = year + month + date;
	    let phoneCell = $("#phoneCell1").val() + $("#phoneCell2").val() + $("#phoneCell3").val();
	    
	    if(memberName == "" || birthDay == "" || phoneCell == ""){
		    alert("휴대폰 인증을 진행 해주세요.");
	        return;
	    }
	    
	    
	   	$.ajax({
	        async: false,
	        type: 'POST',
	        url: '/member/updateCiValue',
	        dataType: 'json',
	        data : {memberId : memberId
	        		,memberName : memberName
	             ,birthDay : birthDay
	             ,phoneCell : phoneCell
	             ,ciValue : ciValue
	        },
	        success: function(data) {
	        	if ( data.result == "SUCCESS"){
					fnCmdLoginProc();
					
	        	}else if ( data.result == "NOT-EXIST"){
	        		alert("가입정보가 없습니다. 관리자에게 문의해주세요.");
					return false;
					
				}else if ( data.result == "MANY-EXIST"){
					alert("가입정보가 올바르지 않습니다. 관리자에게 문의해주세요.");
					return false;
					
				}else {
					alert('휴대폰 인증에 실패했습니다. \n관리자에게 문의하세요.');
				}
	        	
	        },
	        error: function(data){
	        	alert('휴대폰 인증에 실패했습니다.');
	        }
	    });

	   	fnClose();
	}


	function fnRestoreDormantMember() {

		
	    let ciValue = $("#ciValue").val();
		
	    /*
		if(ciValue == ""){
		    alert("휴대폰 인증을 진행 해주세요.");
	        return;
	    }*/
		
		let memberId = $("#username").val();
	    var year = $("#birthDay1").val();
	    var month = leadingZeros($("#birthDay2").val(), 2);
	    var date = leadingZeros($("#birthDay3").val(), 2);
		   
	    let memberName = $("#memberName").val();
	    let birthDay = year + month + date;
	    let phoneCell = $("#phoneCell1").val() + $("#phoneCell2").val() + $("#phoneCell3").val();
		
	    
	    if(memberName == "" || birthDay == "" || phoneCell == ""){
		    alert("휴대폰 인증을 진행 해주세요.");

		   	fnClose();
	        return;
	    }
	    
	    
	   	$.ajax({
	        async: false,
	        type: 'POST',
	        url: '/member/restoreMemberByMemberNo',
	        dataType: 'json',
	        data : {memberId : memberId
	        		,memberName : memberName
	             ,birthDay : birthDay
	             ,ciValue : ciValue
	        },
	        success: function(data) {
	        	if ( data.result == "SUCCESS"){
	        		alert('휴면회원 해제되었습니다. \n로그인 후 시스템 이용 가능합니다.');
					
	        	}else if ( data.result == "NOT-EXIST"){
	        		alert("가입정보가 없습니다. 관리자에게 문의해주세요.");
					
				}else if ( data.result == "MANY-EXIST"){
					alert("가입정보가 올바르지 않습니다. 관리자에게 문의해주세요.");
					
				}else {
					alert('휴면회원 해제에 실패하였습니다. \n관리자에게 문의하세요.');
				}
	        },
	        error: function(data){
	        	alert('휴면회원 해제에 실패 하였습니다.');
	        }
	    });
	   	fnClose();
	   
	}
	function findOneByMemberIdForDormant(){
		let ajaxData = new Object();
		ajaxData.memberId = $("#username").val();
		
		$.ajax({
			async: false
			,type:'POST'
			,url:'/member/findOneByMemberIdForDormant'
			,dataType : 'json'
			,data: ajaxData
			,success:function(d){
				//$('#dormantMemberName').text(d.memberName);
				//$('#dormantDeleteInfoDate').text(comm_formatDate(d.deletionInfoDate,'yyyy-mm-dd'));

				$('#dormantMemberName').text(d.dormantMemberName);
				$('#dormantDeleteInfoDate').text(comm_formatDate(d.dormantDeleteInfoDate,'yyyy-mm-dd'));
			}
			,error: function(d){
				//alert('휴면회원 조회에 실패하였습니다.');
				return;
	        }
		});
	}
	
	function fnClose(){

		common.modalPopAutoHide("#ciConfirm");
		common.modalPopAutoHide("#divDormantMember");
		common.modalPopAutoHide("#hpAuth");
		common.modalPopAutoHide("#hpAuth2");
	}
	
	// 회원 탈퇴
	function fnWithdrawalMemberAuth(){
		
		let ajaxData = new Object();
		ajaxData.memberId = $("#username").val();
		ajaxData.memberPw = $("#password").val();

		$.ajax({
	        async: false
	        ,type: 'POST'
	        ,url: '/member/withdrawalMember'
	        ,dataType: 'json'
	        ,data:ajaxData
	        ,success: function(d) {
	        	alert('정상적으로 탈퇴되었습니다.');
	        	$('#btnClosePopupDormantMember').trigger('click');
	        }
	        ,error: function(d){
				alert('회원 탈퇴에 실패 하였습니다.');
				return;
	        }
		});
	}
	// 2022 금융보안 레그테크 포털 개인정보 보호 강화 관련 시스템 도입 END
</script>

<!-- 2022 금융보안 레그테크 포털 개인정보 보호 강화 관련 시스템 도입 START -->
<!-- 본인인증서비스 요청 form --------------------------->
<form name="reqKMCISForm" method="post" action="#">
    <input type="hidden" name="tr_cert" value="KMC000001-52203A13B74DF0CA9AC283AE18244CC1799FE413A6C9D61261ACE342A7A2D75EFA95D391BB9ABE8CFEC9FD2C4835257BCAE4B8836A735C1ED8ADF8509EB31D018FBE62EEAF4916DC044058C539F51E6C959DAE284139D6BE922E2E05E083FB4082689D2058F480D2AB80A42571A5266082CC8A47F7D29DFBD8C4CE2531B579322E40E2CA10014492A7B20932AAE9138BE6E3F310B4AA3C06FA352C1162F5366A1A5F3A683AE45C1E49F80DBF6AAF88285AB6A0C3C9E95E748382B83E2CB78F386B37FA94CDD3C8A7174494C45D827F22A26AD2681BF294E4E942A9836C72CB3CF298213BAF2B49964A5762C39CA5856DC432EF06AE6966C7F5390431606E3C50">
    <input type="hidden" name="tr_url"  value="https://regtech.fsec.or.kr/member/icert/cert_step03" >
    <input type="hidden" name="tr_add"  value="N" >  
</form>
<script language=javascript>
<!--
   window.name = "regtech_member_cert";
   
   var KMCIS_window;

   function openKMCISWindow(){    
        var UserAgent = navigator.userAgent;
        /* 모바일 접근 체크*/

        KMCIS_window = window.open('', 'KMCISWindow', 'width=425, height=550, resizable=0, scrollbars=no, status=0, titlebar=0, toolbar=0, left=435, top=250' );
            
        if(KMCIS_window == null){
            alert(" ※ 윈도우 XP SP2 또는 인터넷 익스플로러 7 사용자일 경우에는 \n    화면 상단에 있는 팝업 차단 알림줄을 클릭하여 팝업을 허용해 주시기 바랍니다. \n\n※ MSN,야후,구글 팝업 차단 툴바가 설치된 경우 팝업허용을 해주시기 바랍니다.");
        }
        
        document.reqKMCISForm.target = 'KMCISWindow';
      
      document.reqKMCISForm.action = 'https://www.kmcert.com/kmcis/web/kmcisReq.jsp';
      document.reqKMCISForm.submit();
  }
//-->
</script>
<!-- ------------------------------------------------------------------------------------------------------- -->
<!-- 2022 금융보안 레그테크 포털 개인정보 보호 강화 관련 시스템 도입 END -->
		</div>
		<div class="footer">
			
<div class="footer_wrap">
	<p class="logo"><img src="/images/footer_logo.png" alt="금융보안원"></p>
	<ul class="footer_menu">
		<li><b><a href="https://www.fsec.or.kr/terms/detail?gubunCode=TG01" target="_blank"">개인정보처리방침</a></b></li>	<!-- 2023-유지보수38-->
		<li><a href="/member/emailCollectPolicy">이메일무단수집거부</a></li>
	</ul>
	 <p>(우)16881 경기도 용인시 수지구 대지로 132&nbsp;&nbsp;&nbsp;&nbsp;침해사고대응훈련/비상대응센터 문의 : 02-3495-9351~2	 <!-- 2024-유지보수-53 20240603 -->
	 &nbsp;&nbsp;&nbsp;&nbsp; 자문관련 문의 : 02-3495-9721~6	<!-- 2023-유지보수24 20230803 -->
	 &nbsp;&nbsp;&nbsp;&nbsp; 회원가입 및 기타 문의 : 02-3495-9817</p>			
	 <p>Copyright©2020 Financial Security Institute All Right Reserved.</p>
	<div class="link_box">
		<a class="btn_link" href="#none">관련사이트</a>
		<ul class="link_list">
			<li><a href="http://www.fsec.or.kr" target="_blank">금융보안원</a></li>
			<li><a href="http://edu.fsec.or.kr" target="_blank">금융보안원 교육센터</a></li>
			<li><a href="http://kfisac.or.kr" target="_blank">금융ISAC 정보공유포털</a></li>
			<li><a href="http://findatamall.or.kr" target="_blank">금융데이터거래소</a></li>
			<li><a href="http://data.fsec.or.kr" target="_blank">데이터전문기관</a></li>
		</ul>
	</div>
	<button class="go_top" type="button">TOP</button>
</div>

		</div>		
	</div>
</body>
</html>
