{"created": 1754724012.4641109, "duration": 3.1279525756835938, "exitcode": 1, "root": "/home/jclee/app/blacklist/tests", "environment": {}, "summary": {"passed": 2, "total": 2, "collected": 2}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "test_core_endpoints.py", "type": "Module"}]}, {"nodeid": "test_core_endpoints.py", "outcome": "passed", "result": [{"nodeid": "test_core_endpoints.py::test_core_endpoints", "type": "Function", "lineno": 10}, {"nodeid": "test_core_endpoints.py::test_dashboard_charts", "type": "Function", "lineno": 170}]}], "tests": [{"nodeid": "test_core_endpoints.py::test_core_endpoints", "lineno": 10, "outcome": "passed", "keywords": ["test_core_endpoints", "test_core_endpoints.py", "tests", ""], "setup": {"duration": 0.35563234903384, "outcome": "passed", "log": [{"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754724009.757356, "msecs": 757.0, "relativeCreated": 646.1207866668701, "thread": 134272795041792, "threadName": "MainThread", "processName": "MainProcess", "process": 3006956}, {"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754724009.7579358, "msecs": 757.0, "relativeCreated": 646.7006206512451, "thread": 134272795041792, "threadName": "MainThread", "processName": "MainProcess", "process": 3006956}, {"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754724009.7581482, "msecs": 758.0, "relativeCreated": 646.9130516052246, "thread": 134272795041792, "threadName": "MainThread", "processName": "MainProcess", "process": 3006956}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754724009.7583642, "msecs": 758.0, "relativeCreated": 647.1290588378906, "thread": 134272795041792, "threadName": "MainThread", "processName": "MainProcess", "process": 3006956}, {"name": "src.core.collection_manager.auth_service", "msg": "Database error checking auth limits: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "check_auth_attempt_limit", "created": 1754724009.7587283, "msecs": 758.0, "relativeCreated": 647.4931240081787, "thread": 134272795041792, "threadName": "MainThread", "processName": "MainProcess", "process": 3006956}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754724009.758995, "msecs": 758.0, "relativeCreated": 647.7599143981934, "thread": 134272795041792, "threadName": "MainThread", "processName": "MainProcess", "process": 3006956}, {"name": "src.core.collection_manager.auth_service", "msg": "Database error checking auth limits: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "check_auth_attempt_limit", "created": 1754724009.7592688, "msecs": 759.0, "relativeCreated": 648.033618927002, "thread": 134272795041792, "threadName": "MainThread", "processName": "MainProcess", "process": 3006956}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754724009.759505, "msecs": 759.0, "relativeCreated": 648.2698917388916, "thread": 134272795041792, "threadName": "MainThread", "processName": "MainProcess", "process": 3006956}]}, "call": {"duration": 0.004799943999387324, "outcome": "passed", "stdout": "\ud83d\udd0d Core Blacklist API \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ud14c\uc2a4\ud2b8 \uc2dc\uc791\n============================================================\n\n1. \uba54\uc778 \ud398\uc774\uc9c0 (/) \ud14c\uc2a4\ud2b8\n\u274c \uba54\uc778 \ud398\uc774\uc9c0 \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27acb0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n2. Health Check (/health) \ud14c\uc2a4\ud2b8\n\u274c Health Check \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27b040>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n3. Active Blacklist (/api/blacklist/active) \ud14c\uc2a4\ud2b8\n\u274c Active Blacklist \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/blacklist/active (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27b400>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n4. FortiGate Format (/api/fortigate) \ud14c\uc2a4\ud2b8\n\u274c FortiGate Format \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/fortigate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27b700>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n5. System Stats (/api/stats) \ud14c\uc2a4\ud2b8\n\u274c System Stats \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27ba60>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n============================================================\n\ud83d\udcca \ud14c\uc2a4\ud2b8 \uacb0\uacfc \uc694\uc57d\n============================================================\n\u274c /: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27acb0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /health: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27b040>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/blacklist/active: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/blacklist/active (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27b400>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/fortigate: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/fortigate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27b700>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/stats: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27ba60>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n\ucd1d 5\uac1c \uc911 0\uac1c \uc131\uacf5 (0%)\n", "stderr": "/home/jclee/.local/lib/python3.10/site-packages/_pytest/python.py:163: PytestReturnNotNoneWarning: Expected None, but test_core_endpoints.py::test_core_endpoints returned False, which will be an error in a future version of pytest.  Did you mean to use `assert` instead of `return`?\n  warnings.warn(\n"}, "teardown": {"duration": 0.0003544059582054615, "outcome": "passed"}}, {"nodeid": "test_core_endpoints.py::test_dashboard_charts", "lineno": 170, "outcome": "passed", "keywords": ["test_dashboard_charts", "test_core_endpoints.py", "tests", ""], "setup": {"duration": 0.0013755430118180811, "outcome": "passed"}, "call": {"duration": 0.002480941009707749, "outcome": "passed", "stdout": "\n\n\ud83d\udd0d \ub300\uc2dc\ubcf4\ub4dc \ucc28\ud2b8 \ub370\uc774\ud130 API \ud14c\uc2a4\ud2b8\n============================================================\n\n6. Monthly Data API (/api/stats/monthly-data) \ud14c\uc2a4\ud2b8\n\u274c Monthly Data API \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats/monthly-data (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27baf0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n7. Source Distribution API (/api/stats/source-distribution) \ud14c\uc2a4\ud2b8\n\u274c Source Distribution API \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats/source-distribution (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7a1ecd27b610>: Failed to establish a new connection: [Errno 111] Connection refused'))\n"}, "teardown": {"duration": 0.00025571801234036684, "outcome": "passed"}}]}