{"created": 1754666585.112374, "duration": 2.4032132625579834, "exitcode": 1, "root": "/home/jclee/app/blacklist/tests", "environment": {}, "summary": {"passed": 4, "skipped": 1, "total": 5, "collected": 5}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "test_core_endpoints.py", "type": "Module"}, {"nodeid": "test_apis.py", "type": "Module"}]}, {"nodeid": "test_core_endpoints.py", "outcome": "passed", "result": [{"nodeid": "test_core_endpoints.py::test_core_endpoints", "type": "Function", "lineno": 10}, {"nodeid": "test_core_endpoints.py::test_dashboard_charts", "type": "Function", "lineno": 170}]}, {"nodeid": "test_apis.py", "outcome": "passed", "result": [{"nodeid": "test_apis.py::test_regtech_apis", "type": "Function", "lineno": 62}, {"nodeid": "test_apis.py::test_secudium_apis", "type": "Function", "lineno": 103}, {"nodeid": "test_apis.py::test_regtech_login", "type": "Function", "lineno": 144}]}], "tests": [{"nodeid": "test_core_endpoints.py::test_core_endpoints", "lineno": 10, "outcome": "passed", "keywords": ["test_core_endpoints", "test_core_endpoints.py", "__init__.py", "tests"], "setup": {"duration": 0.13973668398102745, "outcome": "passed", "log": [{"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754666583.112868, "msecs": 112.0, "relativeCreated": 602.3008823394775, "thread": 125185527619584, "threadName": "MainThread", "processName": "MainProcess", "process": 2633250}, {"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754666583.1134496, "msecs": 113.0, "relativeCreated": 602.8823852539062, "thread": 125185527619584, "threadName": "MainThread", "processName": "MainProcess", "process": 2633250}, {"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754666583.1136684, "msecs": 113.0, "relativeCreated": 603.1012535095215, "thread": 125185527619584, "threadName": "MainThread", "processName": "MainProcess", "process": 2633250}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754666583.1138787, "msecs": 113.0, "relativeCreated": 603.3115386962891, "thread": 125185527619584, "threadName": "MainThread", "processName": "MainProcess", "process": 2633250}, {"name": "src.core.collection_manager.auth_service", "msg": "Database error checking auth limits: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "check_auth_attempt_limit", "created": 1754666583.1141927, "msecs": 114.0, "relativeCreated": 603.6255359649658, "thread": 125185527619584, "threadName": "MainThread", "processName": "MainProcess", "process": 2633250}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754666583.1144137, "msecs": 114.0, "relativeCreated": 603.846549987793, "thread": 125185527619584, "threadName": "MainThread", "processName": "MainProcess", "process": 2633250}, {"name": "src.core.collection_manager.auth_service", "msg": "Database error checking auth limits: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "check_auth_attempt_limit", "created": 1754666583.114682, "msecs": 114.0, "relativeCreated": 604.1147708892822, "thread": 125185527619584, "threadName": "MainThread", "processName": "MainProcess", "process": 2633250}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754666583.114934, "msecs": 114.0, "relativeCreated": 604.3667793273926, "thread": 125185527619584, "threadName": "MainThread", "processName": "MainProcess", "process": 2633250}]}, "call": {"duration": 0.004848546988796443, "outcome": "passed", "stdout": "\ud83d\udd0d Core Blacklist API \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ud14c\uc2a4\ud2b8 \uc2dc\uc791\n============================================================\n\n1. \uba54\uc778 \ud398\uc774\uc9c0 (/) \ud14c\uc2a4\ud2b8\n\u274c \uba54\uc778 \ud398\uc774\uc9c0 \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176a560>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n2. Health Check (/health) \ud14c\uc2a4\ud2b8\n\u274c Health Check \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176a8f0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n3. Active Blacklist (/api/blacklist/active) \ud14c\uc2a4\ud2b8\n\u274c Active Blacklist \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/blacklist/active (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176acb0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n4. FortiGate Format (/api/fortigate) \ud14c\uc2a4\ud2b8\n\u274c FortiGate Format \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/fortigate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176afb0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n5. System Stats (/api/stats) \ud14c\uc2a4\ud2b8\n\u274c System Stats \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176ace0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n============================================================\n\ud83d\udcca \ud14c\uc2a4\ud2b8 \uacb0\uacfc \uc694\uc57d\n============================================================\n\u274c /: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176a560>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /health: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176a8f0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/blacklist/active: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/blacklist/active (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176acb0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/fortigate: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/fortigate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176afb0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/stats: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176ace0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n\ucd1d 5\uac1c \uc911 0\uac1c \uc131\uacf5 (0%)\n"}, "teardown": {"duration": 0.0004379969905130565, "outcome": "passed"}}, {"nodeid": "test_core_endpoints.py::test_dashboard_charts", "lineno": 170, "outcome": "passed", "keywords": ["test_dashboard_charts", "test_core_endpoints.py", "__init__.py", "tests"], "setup": {"duration": 0.001422278000973165, "outcome": "passed"}, "call": {"duration": 0.0015187330427579582, "outcome": "passed", "stdout": "\n\n\ud83d\udd0d \ub300\uc2dc\ubcf4\ub4dc \ucc28\ud2b8 \ub370\uc774\ud130 API \ud14c\uc2a4\ud2b8\n============================================================\n\n6. Monthly Data API (/api/stats/monthly-data) \ud14c\uc2a4\ud2b8\n\u274c Monthly Data API \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats/monthly-data (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176b520>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n7. Source Distribution API (/api/stats/source-distribution) \ud14c\uc2a4\ud2b8\n\u274c Source Distribution API \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats/source-distribution (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x71db0176b910>: Failed to establish a new connection: [Errno 111] Connection refused'))\n"}, "teardown": {"duration": 0.0002476130030117929, "outcome": "passed"}}, {"nodeid": "test_apis.py::test_regtech_apis", "lineno": 62, "outcome": "passed", "keywords": ["test_regtech_apis", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.0033343330142088234, "outcome": "passed"}, "call": {"duration": 0.00020129501353949308, "outcome": "passed", "stdout": "\n\ud83c\udfaf REGTECH API \ud14c\uc2a4\ud2b8\n\u274c regtech.json \ud30c\uc77c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n"}, "teardown": {"duration": 0.00024142098845914006, "outcome": "passed"}}, {"nodeid": "test_apis.py::test_secudium_apis", "lineno": 103, "outcome": "passed", "keywords": ["test_secudium_apis", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.0014759409823454916, "outcome": "passed"}, "call": {"duration": 0.00018539396114647388, "outcome": "passed", "stdout": "\n\ud83c\udfaf SECUDIUM API \ud14c\uc2a4\ud2b8\n\u274c secudium.json \ud30c\uc77c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n"}, "teardown": {"duration": 0.0002529429621063173, "outcome": "passed"}}, {"nodeid": "test_apis.py::test_regtech_login", "lineno": 144, "outcome": "skipped", "keywords": ["test_regtech_login", "skip", "integration", "pytestmark", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.00017715804278850555, "outcome": "skipped", "longrepr": "('/home/jclee/app/blacklist/tests/test_apis.py', 145, 'Skipped: External API test - skip in CI/CD')"}, "teardown": {"duration": 0.00011576095130294561, "outcome": "passed"}}]}