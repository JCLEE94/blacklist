{"created": 1754664492.419841, "duration": 3.1271116733551025, "exitcode": 1, "root": "/home/jclee/app/blacklist/tests", "environment": {}, "summary": {"passed": 8, "skipped": 1, "total": 9, "collected": 9}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "test_apis.py", "type": "Module"}, {"nodeid": "test_core_endpoints.py", "type": "Module"}, {"nodeid": "test_cicd_modules.py", "type": "Module"}]}, {"nodeid": "test_apis.py", "outcome": "passed", "result": [{"nodeid": "test_apis.py::test_regtech_apis", "type": "Function", "lineno": 63}, {"nodeid": "test_apis.py::test_secudium_apis", "type": "Function", "lineno": 104}, {"nodeid": "test_apis.py::test_regtech_login", "type": "Function", "lineno": 145}]}, {"nodeid": "test_core_endpoints.py", "outcome": "passed", "result": [{"nodeid": "test_core_endpoints.py::test_core_endpoints", "type": "Function", "lineno": 14}, {"nodeid": "test_core_endpoints.py::test_dashboard_charts", "type": "Function", "lineno": 174}]}, {"nodeid": "test_cicd_modules.py", "outcome": "passed", "result": [{"nodeid": "test_cicd_modules.py::test_imports", "type": "Function", "lineno": 7}, {"nodeid": "test_cicd_modules.py::test_functionality", "type": "Function", "lineno": 21}, {"nodeid": "test_cicd_modules.py::test_integration", "type": "Function", "lineno": 54}, {"nodeid": "test_cicd_modules.py::test_line_count_compliance", "type": "Function", "lineno": 85}]}], "tests": [{"nodeid": "test_apis.py::test_regtech_apis", "lineno": 63, "outcome": "passed", "keywords": ["test_regtech_apis", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.11991868901532143, "outcome": "passed", "log": [{"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754664489.6560402, "msecs": 656.0, "relativeCreated": 538.8686656951904, "thread": 126047671873536, "threadName": "MainThread", "processName": "MainProcess", "process": 2618847}, {"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754664489.6565876, "msecs": 656.0, "relativeCreated": 539.4160747528076, "thread": 126047671873536, "threadName": "MainThread", "processName": "MainProcess", "process": 2618847}, {"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754664489.6567967, "msecs": 656.0, "relativeCreated": 539.6251678466797, "thread": 126047671873536, "threadName": "MainThread", "processName": "MainProcess", "process": 2618847}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754664489.6570115, "msecs": 657.0, "relativeCreated": 539.8399829864502, "thread": 126047671873536, "threadName": "MainThread", "processName": "MainProcess", "process": 2618847}, {"name": "src.core.collection_manager.auth_service", "msg": "Database error checking auth limits: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "check_auth_attempt_limit", "created": 1754664489.6573405, "msecs": 657.0, "relativeCreated": 540.1690006256104, "thread": 126047671873536, "threadName": "MainThread", "processName": "MainProcess", "process": 2618847}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754664489.6575837, "msecs": 657.0, "relativeCreated": 540.412187576294, "thread": 126047671873536, "threadName": "MainThread", "processName": "MainProcess", "process": 2618847}, {"name": "src.core.collection_manager.auth_service", "msg": "Database error checking auth limits: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "check_auth_attempt_limit", "created": 1754664489.6578376, "msecs": 657.0, "relativeCreated": 540.6661033630371, "thread": 126047671873536, "threadName": "MainThread", "processName": "MainProcess", "process": 2618847}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754664489.6580374, "msecs": 658.0, "relativeCreated": 540.8658981323242, "thread": 126047671873536, "threadName": "MainThread", "processName": "MainProcess", "process": 2618847}]}, "call": {"duration": 0.0002479100367054343, "outcome": "passed", "stdout": "\n\ud83c\udfaf REGTECH API \ud14c\uc2a4\ud2b8\n\u274c regtech.json \ud30c\uc77c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n"}, "teardown": {"duration": 0.00033030699705705047, "outcome": "passed"}}, {"nodeid": "test_apis.py::test_secudium_apis", "lineno": 104, "outcome": "passed", "keywords": ["test_secudium_apis", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.0014147270121611655, "outcome": "passed"}, "call": {"duration": 0.0003017220296896994, "outcome": "passed", "stdout": "\n\ud83c\udfaf SECUDIUM API \ud14c\uc2a4\ud2b8\n\u274c secudium.json \ud30c\uc77c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n"}, "teardown": {"duration": 0.0003327210433781147, "outcome": "passed"}}, {"nodeid": "test_apis.py::test_regtech_login", "lineno": 145, "outcome": "skipped", "keywords": ["test_regtech_login", "skip", "integration", "pytestmark", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.00025866104988381267, "outcome": "skipped", "longrepr": "('/home/jclee/app/blacklist/tests/test_apis.py', 146, 'Skipped: External API test - skip in CI/CD')"}, "teardown": {"duration": 0.000164742988999933, "outcome": "passed"}}, {"nodeid": "test_core_endpoints.py::test_core_endpoints", "lineno": 14, "outcome": "passed", "keywords": ["test_core_endpoints", "test_core_endpoints.py", "__init__.py", "tests"], "setup": {"duration": 0.0018896270194090903, "outcome": "passed"}, "call": {"duration": 0.004301345034036785, "outcome": "passed", "stdout": "\ud83d\udd0d Core Blacklist API \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ud14c\uc2a4\ud2b8 \uc2dc\uc791\n============================================================\n\n1. \uba54\uc778 \ud398\uc774\uc9c0 (/) \ud14c\uc2a4\ud2b8\n\u274c \uba54\uc778 \ud398\uc774\uc9c0 \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3c0908d00>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n2. Health Check (/health) \ud14c\uc2a4\ud2b8\n\u274c Health Check \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd386140>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n3. Active Blacklist (/api/blacklist/active) \ud14c\uc2a4\ud2b8\n\u274c Active Blacklist \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/blacklist/active (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd3876d0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n4. FortiGate Format (/api/fortigate) \ud14c\uc2a4\ud2b8\n\u274c FortiGate Format \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/fortigate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd3879d0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n5. System Stats (/api/stats) \ud14c\uc2a4\ud2b8\n\u274c System Stats \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd387d30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n============================================================\n\ud83d\udcca \ud14c\uc2a4\ud2b8 \uacb0\uacfc \uc694\uc57d\n============================================================\n\u274c /: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3c0908d00>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /health: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd386140>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/blacklist/active: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/blacklist/active (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd3876d0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/fortigate: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/fortigate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd3879d0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/stats: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd387d30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n\ucd1d 5\uac1c \uc911 0\uac1c \uc131\uacf5 (0%)\n"}, "teardown": {"duration": 0.000297395046800375, "outcome": "passed"}}, {"nodeid": "test_core_endpoints.py::test_dashboard_charts", "lineno": 174, "outcome": "passed", "keywords": ["test_dashboard_charts", "test_core_endpoints.py", "__init__.py", "tests"], "setup": {"duration": 0.0013159179943613708, "outcome": "passed"}, "call": {"duration": 0.001339021953754127, "outcome": "passed", "stdout": "\n\n\ud83d\udd0d \ub300\uc2dc\ubcf4\ub4dc \ucc28\ud2b8 \ub370\uc774\ud130 API \ud14c\uc2a4\ud2b8\n============================================================\n\n6. Monthly Data API (/api/stats/monthly-data) \ud14c\uc2a4\ud2b8\n\u274c Monthly Data API \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats/monthly-data (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd3877f0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n7. Source Distribution API (/api/stats/source-distribution) \ud14c\uc2a4\ud2b8\n\u274c Source Distribution API \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats/source-distribution (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x72a3bd387790>: Failed to establish a new connection: [Errno 111] Connection refused'))\n"}, "teardown": {"duration": 0.00023976498050615191, "outcome": "passed"}}, {"nodeid": "test_cicd_modules.py::test_imports", "lineno": 7, "outcome": "passed", "keywords": ["test_imports", "test_cicd_modules.py", "__init__.py", "tests"], "setup": {"duration": 0.0012438909616321325, "outcome": "passed"}, "call": {"duration": 0.00016084499657154083, "outcome": "passed", "stdout": "\ud83d\udce6 Testing module imports...\n\u2705 All imports successful\n"}, "teardown": {"duration": 0.00030418700771406293, "outcome": "passed"}}, {"nodeid": "test_cicd_modules.py::test_functionality", "lineno": 21, "outcome": "passed", "keywords": ["test_functionality", "test_cicd_modules.py", "__init__.py", "tests"], "setup": {"duration": 0.0012026320328004658, "outcome": "passed"}, "call": {"duration": 0.0002683089696802199, "outcome": "passed", "stdout": "\ud83d\udd27 Testing basic functionality...\n\u274c Functionality test failed: No module named 'tests.cicd_error_patterns'\n"}, "teardown": {"duration": 0.00022096902830526233, "outcome": "passed"}}, {"nodeid": "test_cicd_modules.py::test_integration", "lineno": 54, "outcome": "passed", "keywords": ["test_integration", "test_cicd_modules.py", "__init__.py", "tests"], "setup": {"duration": 0.001174278964754194, "outcome": "passed"}, "call": {"duration": 0.00023471598979085684, "outcome": "passed", "stdout": "\ud83d\udd0d Testing module integration...\n\u274c Integration test failed: No module named 'tests.cicd_troubleshooter'\n"}, "teardown": {"duration": 0.0002221610047854483, "outcome": "passed"}}, {"nodeid": "test_cicd_modules.py::test_line_count_compliance", "lineno": 85, "outcome": "passed", "keywords": ["test_line_count_compliance", "test_cicd_modules.py", "__init__.py", "tests"], "setup": {"duration": 0.0013097160262987018, "outcome": "passed"}, "call": {"duration": 0.00036137603456154466, "outcome": "passed", "stdout": "\ud83d\udcca Testing 500-line compliance...\n"}, "teardown": {"duration": 0.00022281298879534006, "outcome": "passed"}}]}