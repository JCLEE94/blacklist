{"created": 1754666008.4924018, "duration": 6.251915216445923, "exitcode": 1, "root": "/home/jclee/app/blacklist/tests", "environment": {}, "summary": {"passed": 9, "skipped": 1, "total": 10, "collected": 10}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "test_apis.py", "type": "Module"}, {"nodeid": "test_cicd_modules.py", "type": "Module"}, {"nodeid": "test_core_endpoints.py", "type": "Module"}, {"nodeid": "test_excel_integration.py", "type": "Module"}]}, {"nodeid": "test_apis.py", "outcome": "passed", "result": [{"nodeid": "test_apis.py::test_regtech_apis", "type": "Function", "lineno": 62}, {"nodeid": "test_apis.py::test_secudium_apis", "type": "Function", "lineno": 103}, {"nodeid": "test_apis.py::test_regtech_login", "type": "Function", "lineno": 144}]}, {"nodeid": "test_cicd_modules.py", "outcome": "passed", "result": [{"nodeid": "test_cicd_modules.py::test_imports", "type": "Function", "lineno": 7}, {"nodeid": "test_cicd_modules.py::test_functionality", "type": "Function", "lineno": 21}, {"nodeid": "test_cicd_modules.py::test_integration", "type": "Function", "lineno": 54}, {"nodeid": "test_cicd_modules.py::test_line_count_compliance", "type": "Function", "lineno": 85}]}, {"nodeid": "test_core_endpoints.py", "outcome": "passed", "result": [{"nodeid": "test_core_endpoints.py::test_core_endpoints", "type": "Function", "lineno": 10}, {"nodeid": "test_core_endpoints.py::test_dashboard_charts", "type": "Function", "lineno": 170}]}, {"nodeid": "test_excel_integration.py", "outcome": "passed", "result": [{"nodeid": "test_excel_integration.py::test_excel_download", "type": "Function", "lineno": 15}]}], "tests": [{"nodeid": "test_apis.py::test_regtech_apis", "lineno": 62, "outcome": "passed", "keywords": ["test_regtech_apis", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.10376110603101552, "outcome": "passed", "log": [{"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754666002.669887, "msecs": 669.0, "relativeCreated": 637.2499465942383, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}, {"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754666002.6704338, "msecs": 670.0, "relativeCreated": 637.7966403961182, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}, {"name": "src.core.collection_manager.protection_service", "msg": "Error counting recent auth failures: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/protection_service.py", "filename": "protection_service.py", "module": "protection_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 185, "funcName": "_count_recent_auth_failures", "created": 1754666002.6706512, "msecs": 670.0, "relativeCreated": 638.0140781402588, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754666002.6708581, "msecs": 670.0, "relativeCreated": 638.221025466919, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}, {"name": "src.core.collection_manager.auth_service", "msg": "Database error checking auth limits: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "check_auth_attempt_limit", "created": 1754666002.6712008, "msecs": 671.0, "relativeCreated": 638.5636329650879, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754666002.6714232, "msecs": 671.0, "relativeCreated": 638.7860774993896, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}, {"name": "src.core.collection_manager.auth_service", "msg": "Database error checking auth limits: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "check_auth_attempt_limit", "created": 1754666002.6716895, "msecs": 671.0, "relativeCreated": 639.0523910522461, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}, {"name": "src.core.collection_manager.auth_service", "msg": "Error getting auth statistics: no such table: auth_attempts", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/collection_manager/auth_service.py", "filename": "auth_service.py", "module": "auth_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 172, "funcName": "get_auth_statistics", "created": 1754666002.6718867, "msecs": 671.0, "relativeCreated": 639.2495632171631, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}]}, "call": {"duration": 0.00042770104482769966, "outcome": "passed", "stdout": "\n\ud83c\udfaf REGTECH API \ud14c\uc2a4\ud2b8\n\u274c regtech.json \ud30c\uc77c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n"}, "teardown": {"duration": 0.00044201797572895885, "outcome": "passed"}}, {"nodeid": "test_apis.py::test_secudium_apis", "lineno": 103, "outcome": "passed", "keywords": ["test_secudium_apis", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.0015618449542671442, "outcome": "passed"}, "call": {"duration": 0.00020632595987990499, "outcome": "passed", "stdout": "\n\ud83c\udfaf SECUDIUM API \ud14c\uc2a4\ud2b8\n\u274c secudium.json \ud30c\uc77c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n"}, "teardown": {"duration": 0.0002750870189629495, "outcome": "passed"}}, {"nodeid": "test_apis.py::test_regtech_login", "lineno": 144, "outcome": "skipped", "keywords": ["test_regtech_login", "skip", "integration", "pytestmark", "test_apis.py", "__init__.py", "tests"], "setup": {"duration": 0.00017618801211938262, "outcome": "skipped", "longrepr": "('/home/jclee/app/blacklist/tests/test_apis.py', 145, 'Skipped: External API test - skip in CI/CD')"}, "teardown": {"duration": 0.00013755395775660872, "outcome": "passed"}}, {"nodeid": "test_cicd_modules.py::test_imports", "lineno": 7, "outcome": "passed", "keywords": ["test_imports", "test_cicd_modules.py", "__init__.py", "tests"], "setup": {"duration": 0.0014552900101989508, "outcome": "passed"}, "call": {"duration": 0.00017817097250372171, "outcome": "passed", "stdout": "\ud83d\udce6 Testing module imports...\n\u2705 All imports successful\n"}, "teardown": {"duration": 0.00023676396813243628, "outcome": "passed"}}, {"nodeid": "test_cicd_modules.py::test_functionality", "lineno": 21, "outcome": "passed", "keywords": ["test_functionality", "test_cicd_modules.py", "__init__.py", "tests"], "setup": {"duration": 0.0013231380144134164, "outcome": "passed"}, "call": {"duration": 0.00025999901117756963, "outcome": "passed", "stdout": "\ud83d\udd27 Testing basic functionality...\n\u274c Functionality test failed: No module named 'tests.cicd_error_patterns'\n"}, "teardown": {"duration": 0.000231883954256773, "outcome": "passed"}}, {"nodeid": "test_cicd_modules.py::test_integration", "lineno": 54, "outcome": "passed", "keywords": ["test_integration", "test_cicd_modules.py", "__init__.py", "tests"], "setup": {"duration": 0.0012670200085267425, "outcome": "passed"}, "call": {"duration": 0.0002533959923312068, "outcome": "passed", "stdout": "\ud83d\udd0d Testing module integration...\n\u274c Integration test failed: No module named 'tests.cicd_troubleshooter'\n"}, "teardown": {"duration": 0.00024240504717454314, "outcome": "passed"}}, {"nodeid": "test_cicd_modules.py::test_line_count_compliance", "lineno": 85, "outcome": "passed", "keywords": ["test_line_count_compliance", "test_cicd_modules.py", "__init__.py", "tests"], "setup": {"duration": 0.001244265993591398, "outcome": "passed"}, "call": {"duration": 0.0004285720060579479, "outcome": "passed", "stdout": "\ud83d\udcca Testing 500-line compliance...\n"}, "teardown": {"duration": 0.00023769598919898272, "outcome": "passed"}}, {"nodeid": "test_core_endpoints.py::test_core_endpoints", "lineno": 10, "outcome": "passed", "keywords": ["test_core_endpoints", "test_core_endpoints.py", "__init__.py", "tests"], "setup": {"duration": 0.00123500800691545, "outcome": "passed"}, "call": {"duration": 0.004501792951487005, "outcome": "passed", "stdout": "\ud83d\udd0d Core Blacklist API \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ud14c\uc2a4\ud2b8 \uc2dc\uc791\n============================================================\n\n1. \uba54\uc778 \ud398\uc774\uc9c0 (/) \ud14c\uc2a4\ud2b8\n\u274c \uba54\uc778 \ud398\uc774\uc9c0 \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1e56e90>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n2. Health Check (/health) \ud14c\uc2a4\ud2b8\n\u274c Health Check \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1e56e00>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n3. Active Blacklist (/api/blacklist/active) \ud14c\uc2a4\ud2b8\n\u274c Active Blacklist \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/blacklist/active (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1e57f10>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n4. FortiGate Format (/api/fortigate) \ud14c\uc2a4\ud2b8\n\u274c FortiGate Format \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/fortigate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1eb8220>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n5. System Stats (/api/stats) \ud14c\uc2a4\ud2b8\n\u274c System Stats \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1eb8550>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n============================================================\n\ud83d\udcca \ud14c\uc2a4\ud2b8 \uacb0\uacfc \uc694\uc57d\n============================================================\n\u274c /: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1e56e90>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /health: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1e56e00>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/blacklist/active: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/blacklist/active (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1e57f10>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/fortigate: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/fortigate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1eb8220>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\u274c /api/stats: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1eb8550>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n\ucd1d 5\uac1c \uc911 0\uac1c \uc131\uacf5 (0%)\n"}, "teardown": {"duration": 0.00031473400304093957, "outcome": "passed"}}, {"nodeid": "test_core_endpoints.py::test_dashboard_charts", "lineno": 170, "outcome": "passed", "keywords": ["test_dashboard_charts", "test_core_endpoints.py", "__init__.py", "tests"], "setup": {"duration": 0.0013831329997628927, "outcome": "passed"}, "call": {"duration": 0.0014074289938434958, "outcome": "passed", "stdout": "\n\n\ud83d\udd0d \ub300\uc2dc\ubcf4\ub4dc \ucc28\ud2b8 \ub370\uc774\ud130 API \ud14c\uc2a4\ud2b8\n============================================================\n\n6. Monthly Data API (/api/stats/monthly-data) \ud14c\uc2a4\ud2b8\n\u274c Monthly Data API \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats/monthly-data (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1e57e80>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\n7. Source Distribution API (/api/stats/source-distribution) \ud14c\uc2a4\ud2b8\n\u274c Source Distribution API \uc624\ub958: HTTPConnectionPool(host='localhost', port=8541): Max retries exceeded with url: /api/stats/source-distribution (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x799ff1e56f50>: Failed to establish a new connection: [Errno 111] Connection refused'))\n"}, "teardown": {"duration": 0.00024299602955579758, "outcome": "passed"}}, {"nodeid": "test_excel_integration.py::test_excel_download", "lineno": 15, "outcome": "passed", "keywords": ["test_excel_download", "test_excel_integration.py", "__init__.py", "tests"], "setup": {"duration": 0.0012608179822564125, "outcome": "passed"}, "call": {"duration": 3.3209137969533913, "outcome": "passed", "stdout": "\ud83e\uddea REGTECH Excel \ub2e4\uc6b4\ub85c\ub4dc \ud14c\uc2a4\ud2b8\n\n\ub0a0\uc9dc \ubc94\uc704: 2025-07-10 ~ 2025-08-09\n\n\u2705 \uc218\uc9d1 \uc131\uacf5!\n\ucd1d 4\uac1c IP \uc218\uc9d1\ub428\n\n\ucc98\uc74c 5\uac1c IP:\n  1. success\n  2. total_collected\n  3. method\n  4. saved_to_db\n\n\uc218\uc9d1 \ubc29\ubc95: Excel \ub2e4\uc6b4\ub85c\ub4dc\n\n\ud83d\udcbe \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc800\uc7a5 \uac00\ub2a5 \uc5ec\ubd80:\n  - IP \ud615\uc2dd: \u2713\n  - \ud544\uc218 \ud544\ub4dc: \u2713\n  - \uc18c\uc2a4: REGTECH\n", "log": [{"name": "src.core.regtech_simple_collector", "msg": "\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc800\uc7a5 \uc911 \uc624\ub958: 'BlacklistContainer' object has no attribute 'resolve'", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/jclee/app/blacklist/src/core/regtech_simple_collector.py", "filename": "regtech_simple_collector.py", "module": "regtech_simple_collector", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 341, "funcName": "_save_to_database", "created": 1754666006.1037834, "msecs": 103.0, "relativeCreated": 4071.146249771118, "thread": 133727957368832, "threadName": "MainThread", "processName": "MainProcess", "process": 2629087}]}, "teardown": {"duration": 0.00038291397504508495, "outcome": "passed"}}]}